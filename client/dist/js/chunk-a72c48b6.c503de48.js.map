{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/views/EditQuotation.vue?d7d7","webpack:///./src/views/EditQuotation.vue?9fac","webpack:///src/views/EditQuotation.vue","webpack:///./src/views/EditQuotation.vue?3c71","webpack:///./src/views/EditQuotation.vue"],"names":["redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_e","staticStyle","_v","class","active","isOne","on","$event","goa","_m","isTwo","isThree","check","todos","sumtodo","qID","inv","changein","updatechan","dateq","estatus","updateestatus","sumnote","updatesum","submit","cancel","staticRenderFns","components","Todo","Summernote","QuotatuinPage2","created","$route","params","id","getid","getscope","data","quotation","statusvat","totalnow","total","vat7","payment","tax3","cusstatus","customerID","employeeID","quoname","noteq","qIN","checkedit","IN1","IN2","IN3","inID","numindex","success","methods","window","confirm","history","numf","submitquo","console","axios","post","eID","date","qName","vatstatus","summernote","then","setTimeout","requestone","test","cID","num","customerstatus","address","subd","d","prov","postcode","taxNumber","companyName","companyNumber","requesttwo","price","quantity","response","component"],"mappings":"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","file":"js/chunk-a72c48b6.c503de48.js","sourcesContent":["'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EditQuotation.vue?vue&type=style&index=0&id=2b108e2a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"whole-site\"},[_c('div',{staticClass:\"left-layout\"},[(_vm.success)?_c('a-alert',{attrs:{\"message\":\"บันทึกข้อมูลสำเร็จ\",\"type\":\"success\",\"show-icon\":\"\"}}):_vm._e(),_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" ***จำเป็นต้องกำหนดค่าใบวางบิลทุกครั้งที่ทำการแก้ไข \")]),_c('div',{staticClass:\"step-pills\"},[_c('div',{staticClass:\"step-item\",class:{ active: _vm.isOne },on:{\"click\":function($event){return _vm.goa(0)}}},[_vm._m(0),_c('span',{staticClass:\"text-pill\"},[_vm._v(\" ข้อมูลทั่วไป \")]),_c('span',[_c('b-icon',{attrs:{\"icon\":\"chevron-right\"}})],1)]),_c('div',{staticClass:\"step-item\",class:{ active: _vm.isTwo },on:{\"click\":function($event){return _vm.goa(1)}}},[_vm._m(1),_c('span',{staticClass:\"text-pill\"},[_vm._v(\" ข้อมูลเพิ่มเติม \")]),_c('span',[_c('b-icon',{attrs:{\"icon\":\"chevron-right\"}})],1)]),_c('div',{staticClass:\"step-item\",class:{ active: _vm.isThree },on:{\"click\":function($event){return _vm.goa(2)}}},[_vm._m(2),_c('span',{staticClass:\"text-pill\"},[_vm._v(\" เพิ่มขอบเขตงาน \")])])]),(_vm.check == '0')?_c('div',{staticClass:\"form-group detail-section\"},[_c('todo',{attrs:{\"todos\":_vm.todos,\"sumtodo\":_vm.sumtodo,\"qID\":_vm.qID,\"inv\":_vm.inv,\"changein\":_vm.changein},on:{\"updatechan\":_vm.updatechan}}),_c('div',{staticClass:\"nav-section\"},[_c('button',{staticClass:\"nav-but\",on:{\"click\":function($event){return _vm.goa(1)}}},[_vm._v(\" ต่อไป \"),_c('b-icon',{attrs:{\"icon\":\"chevron-right\"}})],1)])],1):_vm._e(),(_vm.check == '1')?_c('div',{staticClass:\"form-group detail-section\"},[_c('div',{staticClass:\"set-Default\"},[_c('quotatuin-page-2',{attrs:{\"dateq\":_vm.sumtodo.dateq,\"estatus\":_vm.estatus},on:{\"update-status\":_vm.updateestatus}}),_c('div',{staticClass:\"nav-section\"},[_c('button',{staticClass:\"nav-but nav-but-back\",on:{\"click\":function($event){return _vm.goa(0)}}},[_vm._v(\" ก่อนหน้า \")]),_c('button',{staticClass:\"nav-but\",on:{\"click\":function($event){return _vm.goa(2)}}},[_vm._v(\"ต้อไป\")])])],1)]):_vm._e(),(_vm.check == '2')?_c('div',{staticClass:\"form-group detail-section\"},[_c('summernote',{attrs:{\"sumnote\":_vm.sumnote},on:{\"update-text\":_vm.updatesum}}),_c('div',{staticClass:\"nav-section\"},[_c('button',{staticClass:\"nav-but nav-but-back\",on:{\"click\":function($event){return _vm.goa(1)}}},[_vm._v(\"ก่อนหน้า\")])])],1):_vm._e()],1),_c('div',{staticClass:\"right-layout\"},[_c('div',{staticClass:\"right-layout-panel\"},[_c('div',{staticClass:\"container-panel\"},[_c('button',{staticClass:\"btn btn-outline-success\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit}},[_vm._v(\" บันทึก \")]),_c('button',{staticClass:\"btn btn-outline-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cancel}},[_vm._v(\" ยกเลิก \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"num-pill\"},[_c('span',[_vm._v(\"1\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"num-pill\"},[_c('span',[_vm._v(\"2\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"num-pill\"},[_c('span',[_vm._v(\"3\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"whole-site\">\r\n    <!-- Left layput for website  -->\r\n    <div class=\"left-layout\">\r\n       <a-alert v-if=\"success\" message=\"บันทึกข้อมูลสำเร็จ\" type=\"success\" show-icon />\r\n      <div style=\"color: red\">\r\n        ***จำเป็นต้องกำหนดค่าใบวางบิลทุกครั้งที่ทำการแก้ไข\r\n      </div>\r\n      <!-- step pills -->\r\n      <div class=\"step-pills\">\r\n        <div class=\"step-item\" :class=\"{ active: isOne }\" @click=\"goa(0)\">\r\n          <div class=\"num-pill\"><span>1</span></div>\r\n          <span class=\"text-pill\"> ข้อมูลทั่วไป </span>\r\n          <span> <b-icon icon=\"chevron-right\"> </b-icon> </span>\r\n        </div>\r\n\r\n        <div class=\"step-item\" :class=\"{ active: isTwo }\" @click=\"goa(1)\">\r\n          <div class=\"num-pill\"><span>2</span></div>\r\n          <span class=\"text-pill\"> ข้อมูลเพิ่มเติม </span>\r\n          <span> <b-icon icon=\"chevron-right\"> </b-icon> </span>\r\n        </div>\r\n\r\n        <div class=\"step-item\" :class=\"{ active: isThree }\" @click=\"goa(2)\">\r\n          <div class=\"num-pill\"><span>3</span></div>\r\n          <span class=\"text-pill\"> เพิ่มขอบเขตงาน </span>\r\n        </div>\r\n      </div>\r\n      <!-- step pills -->\r\n      <!-- add detail section -->\r\n      <div v-if=\"check == '0'\" class=\"form-group detail-section\">\r\n        <todo\r\n          :todos=\"todos\"\r\n          :sumtodo=\"sumtodo\"\r\n          :qID=\"qID\"\r\n          :inv=\"inv\"\r\n          :changein=\"changein\"\r\n          @updatechan=\"updatechan\"\r\n        />\r\n        <div class=\"nav-section\">\r\n          <button @click=\"goa(1)\" class=\"nav-but\">\r\n            ต่อไป <b-icon icon=\"chevron-right\"></b-icon>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <!-- add detail section -->\r\n\r\n      <!-- sign - section  -->\r\n      <div v-if=\"check == '1'\" class=\"form-group detail-section\">\r\n        <div class=\"set-Default\">\r\n          <quotatuin-page-2\r\n            :dateq=\"sumtodo.dateq\"\r\n            :estatus=\"estatus\"\r\n            @update-status=\"updateestatus\"\r\n          />\r\n          <div class=\"nav-section\">\r\n            <button @click=\"goa(0)\" class=\"nav-but nav-but-back\">\r\n              ก่อนหน้า\r\n            </button>\r\n            <button @click=\"goa(2)\" class=\"nav-but\">ต้อไป</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- sign - section  -->\r\n\r\n      <!-- add scope of work  - section  -->\r\n      <div v-if=\"check == '2'\" class=\"form-group detail-section\">\r\n        <summernote :sumnote=\"sumnote\" @update-text=\"updatesum\" />\r\n        <div class=\"nav-section\">\r\n          <button @click=\"goa(1)\" class=\"nav-but nav-but-back\">ก่อนหน้า</button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- add scope of work  - section  -->\r\n    </div>\r\n    <!-- /Left layput for website  -->\r\n\r\n    <!-- Right layput for website  -->\r\n    <div class=\"right-layout\">\r\n      <div class=\"right-layout-panel\">\r\n        <div class=\"container-panel\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-success\"\r\n            @click=\"submit\"\r\n          >\r\n            <!-- <b-icon icon=\"save\" style=\"color: green; font-size:24px;\"></b-icon> -->\r\n            บันทึก\r\n          </button>\r\n           <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"cancel\">\r\n            <!-- <b-icon icon=\"x-square\" style=\"color: red; font-size:24px;\"></b-icon> -->\r\n            ยกเลิก\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--/Right layput for website  -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Todo from \"./Todo.vue\";\r\nimport Summernote from \"./Summernote.vue\";\r\nimport QuotatuinPage2 from \"./CreateQuoP2.vue\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  //component code\r\n  name: \"Quotation\",\r\n  components: {\r\n    Todo,\r\n    Summernote,\r\n    QuotatuinPage2,\r\n  },\r\n  created() {\r\n    this.qID = this.$route.params.id;\r\n    this.getid(this.qID);\r\n    this.getscope(this.qID);\r\n  },\r\n  data() {\r\n    return {\r\n      quotation: [],\r\n      todos: [],\r\n      sumtodo: {\r\n        statusvat: \"vatใน\",\r\n        totalnow: 0,\r\n        total: 0,\r\n        vat7: 0,\r\n        payment: 0,\r\n        tax3: 0,\r\n        cusstatus: \"\",\r\n        customerID: \"\",\r\n        employeeID: \"\",\r\n        quoname: \"\",\r\n        dateq: \"\",\r\n        noteq: \"\",\r\n        qIN: \"1\",\r\n        checkedit: true,\r\n      },\r\n      sumnote: \"\",\r\n      isOne: true,\r\n      isTwo: false,\r\n      isThree: false,\r\n      qID: \"\",\r\n      estatus: false,\r\n      check: \"0\",\r\n      inv: {\r\n        IN1: 100,\r\n        IN2: 0,\r\n        IN3: 0,\r\n      },\r\n      inID: \"\",\r\n      numindex: 0,\r\n      changein: false,\r\n      success:false,\r\n    };\r\n  },\r\n  methods: {\r\n    cancel() {\r\n      if (window.confirm(\"คุณแน่ใจใช่ไหมที่จะยกเลิกรายการนี้\")) {\r\n        history.back();\r\n      }\r\n    },\r\n    goa(numf) {\r\n      if (numf == \"0\") {\r\n        this.isOne = true;\r\n        this.isTwo = false;\r\n        this.isThree = false;\r\n      } else if (numf == \"1\") {\r\n        this.isTwo = true;\r\n        this.isOne = false;\r\n        this.isThree = false;\r\n      } else {\r\n        this.isThree = true;\r\n        this.isOne = false;\r\n        this.isTwo = false;\r\n      }\r\n      // console.log(this.isOne);\r\n      // console.log(this.isTwo);\r\n      // console.log(this.isThree);\r\n      this.check = numf;\r\n      // console.log(this.check);\r\n    },\r\n    updatesum(sumnote) {\r\n      this.sumnote = sumnote;\r\n    },\r\n    updateestatus(estatus) {\r\n      this.estatus = estatus;\r\n    },\r\n    updatechan(changein) {\r\n      this.changein = changein;\r\n    },\r\n    submitquo() {\r\n      console.log(\"payment\");\r\n      console.log(this.sumtodo.payment);\r\n      axios\r\n        .post(`https://pxu-server.herokuapp.com/quotation/${this.qID}`, {\r\n          eID: this.sumtodo.employeeID,\r\n          date: this.sumtodo.dateq,\r\n          noteq: this.sumtodo.noteq,\r\n          qName: this.sumtodo.quoname,\r\n          qIN: this.sumtodo.qIN,\r\n          vatstatus: this.sumtodo.statusvat,\r\n          total: this.sumtodo.total.toFixed(2),\r\n          payment: this.sumtodo.payment.toFixed(2),\r\n          estatus: this.estatus,\r\n          summernote: this.sumnote,\r\n        })\r\n        .then(() => {\r\n          this.success = true;\r\n            setTimeout(() => {\r\n              this.$router.back();\r\n            }, 500);\r\n        });\r\n    },\r\n\r\n    async submit() {\r\n      if (this.changein) {\r\n        await axios.delete(`https://pxu-server.herokuapp.com/scope/${this.qID}`);\r\n        await axios.delete(`https://pxu-server.herokuapp.com/invoice/${this.qID}`);\r\n        const requestone = [];\r\n        console.log(this.todos);\r\n        for (let i = 1; i <= this.sumtodo.qIN; i++) {\r\n          this.inID = this.qID + \"-\" + i;\r\n          let test;\r\n          if (this.sumtodo.qIN == 1 && i == 1) {\r\n            test = this.inv.IN1 / 100;\r\n          } else if (this.sumtodo.qIN == 2 && i == 1) {\r\n            test = this.inv.IN1 / 100;\r\n          } else if (this.sumtodo.qIN == 2 && i == 2) {\r\n            test = this.inv.IN2 / 100;\r\n          } else if (this.sumtodo.qIN == 3 && i == 1) {\r\n            test = this.inv.IN1 / 100;\r\n          } else if (this.sumtodo.qIN == 3 && i == 2) {\r\n            test = this.inv.IN2 / 100;\r\n          } else if (this.sumtodo.qIN == 3 && i == 3) {\r\n            test = this.inv.IN3 / 100;\r\n          }\r\n          requestone[i - 1] = axios.post(\"https://pxu-server.herokuapp.com/invoice\", {\r\n            inID: this.inID,\r\n            qID: this.qID,\r\n            cID: this.sumtodo.customerID,\r\n            eID: this.sumtodo.employeeID,\r\n            num: i,\r\n            vatstatus: this.sumtodo.statusvat,\r\n            customerstatus: this.sumtodo.cusstatus,\r\n            total: (this.sumtodo.total * test).toFixed(2),\r\n            payment: (this.sumtodo.payment * test).toFixed(2),\r\n            address: this.quotation.address,\r\n            subd: this.quotation.subdistrict,\r\n            d: this.quotation.district,\r\n            prov: this.quotation.province,\r\n            postcode: this.quotation.postcode,\r\n            taxNumber: this.quotation.taxNumber,\r\n            companyName: this.quotation.wcompanyName,\r\n            companyNumber: this.quotation.wcompanyNumber,\r\n            estatus: this.estatus,\r\n          });\r\n        }\r\n        const requesttwo = [];\r\n        for (let i = 0; i < this.todos.length; i++) {\r\n          requesttwo[i] = axios.post(\"https://pxu-server.herokuapp.com/scope\", {\r\n            qID: this.qID,\r\n            name: this.todos[i].name,\r\n            price: this.todos[i].price,\r\n            quantity: this.todos[i].quantity,\r\n          });\r\n          console.log(this.todos.length);\r\n          console.log(requesttwo[i]);\r\n        }\r\n        axios.all([requestone, requesttwo]).then(this.submitquo());\r\n      } else {\r\n        this.submitquo();\r\n      }\r\n    },\r\n    async getid(id) {\r\n      try {\r\n        const response = await axios.get(\r\n          `https://pxu-server.herokuapp.com/quotation/${id}`\r\n        );\r\n        this.quotation = response.data[0];\r\n        this.sumtodo.quoname = this.quotation.quotationName;\r\n        this.sumtodo.customerID = this.quotation.customerID;\r\n        this.sumtodo.employeeID = this.quotation.employeeID;\r\n        this.sumtodo.dateq = this.quotation.datequotation;\r\n        this.sumnote = this.quotation.summernote;\r\n        this.sumtodo.noteq = this.quotation.notequotation;\r\n        this.sumtodo.payment = this.quotation.paymentPrice;\r\n        this.sumtodo.total = this.quotation.totalpricequo;\r\n        this.sumtodo.cusstatus = this.quotation.customerstatus;\r\n        this.sumtodo.statusvat = this.quotation.vatstatus;\r\n        if (this.quotation.estatus == \"0\") {\r\n          this.estatus = false;\r\n        } else {\r\n          this.estatus = true;\r\n        }\r\n        if (this.sumtodo.cusstatus == \"นิติบุคคล\") {\r\n          if (this.sumtodo.statusvat == \"vatนอก\") {\r\n            this.sumtodo.totalnow = this.sumtodo.total;\r\n            this.sumtodo.vat7 = this.sumtodo.total * 0.07;\r\n            this.sumtodo.tax3 = this.sumtodo.total * 0.03;\r\n          } else if (this.sumtodo.statusvat == \"vatใน\") {\r\n            this.sumtodo.totalnow = (this.sumtodo.total *100)/107;\r\n            this.sumtodo.vat7 = this.sumtodo.total - this.sumtodo.totalnow;\r\n            this.sumtodo.tax3 = this.sumtodo.totalnow * 0.03;\r\n            \r\n          }\r\n        } else {\r\n          if (this.sumtodo.statusvat == \"vatนอก\") {\r\n            this.sumtodo.totalnow = this.sumtodo.total;\r\n            this.sumtodo.vat7 = this.sumtodo.total * 0.07;\r\n            this.sumtodo.tax3 = 0;\r\n          } else if (this.sumtodo.statusvat == \"vatใน\") {\r\n            this.sumtodo.totalnow = (this.sumtodo.total *100)/107;\r\n            this.sumtodo.vat7 = this.sumtodo.total - this.sumtodo.totalnow;\r\n            this.sumtodo.tax3 = 0;\r\n          }\r\n        }\r\n        this.sumtodo.qIN = this.quotation.quantityinstallment.toString();\r\n        // console.log(this.quotation);\r\n        // console.log(this.sumtodo);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async getscope(id) {\r\n      try {\r\n        const response = await axios.get(`https://pxu-server.herokuapp.com/scope/${id}`);\r\n        this.todos = response.data;\r\n        console.log(this.todos);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.whole-site {\r\n  font-family: \"Mitr\", sans-serif;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n.left-layout {\r\n  width: 70%;\r\n}\r\n.right-layout {\r\n  width: 30%;\r\n}\r\n.right-layout-panel {\r\n  padding: 40px;\r\n  margin: auto;\r\n  width: 70%;\r\n  border-radius: 14px;\r\n  align-content: center;\r\n  background-color: white;\r\n  -webkit-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n}\r\n.container-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.container-panel button {\r\n  margin: 10px;\r\n}\r\n.nav-section {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n}\r\n.nav-but {\r\n  width: 164px;\r\n  height: 36px;\r\n  font-weight: 700;\r\n  line-height: 1;\r\n  text-transform: uppercase;\r\n  position: relative;\r\n  text-align: center;\r\n  border-radius: 10px !important;\r\n  color: white;\r\n  padding: 0.5rem 1.25rem;\r\n  font-size: 0.875rem;\r\n  margin: 0.5rem;\r\n  outline: none !important;\r\n  -webkit-box-shadow: none !important;\r\n  box-shadow: none !important;\r\n  background-color: #7367f0;\r\n}\r\n.nav-but-back {\r\n  border: 1px solid #7367f0 !important;\r\n  color: #7367f0 !important;\r\n  background-color: white !important;\r\n}\r\n.nav-but-suc {\r\n  color: white !important;\r\n  background-color: rgb(74, 204, 74) !important;\r\n}\r\n/* specific module change  */\r\n\r\n.step-pills {\r\n  width: 100%;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  background-color: transparent !important;\r\n  -webkit-box-pack: justify;\r\n  -ms-flex-pack: justify;\r\n  justify-content: flex-start !important;\r\n  padding: 1rem;\r\n  border-radius: 1rem;\r\n  -webkit-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n  box-shadow: 0 0.5rem 1rem transparent !important ;\r\n}\r\n.step-item {\r\n  cursor: pointer;\r\n  display: flex;\r\n  height: 100%;\r\n  flex-direction: row;\r\n  background-color: transparent !important;\r\n  border-radius: 10px;\r\n  padding: 5px 5px;\r\n  list-style-type: none;\r\n  gap: 10px;\r\n}\r\n\r\n.step-item.active .num-pill {\r\n  background-color: #7367f0;\r\n  border-radius: 10px;\r\n  color: white;\r\n  justify-content: center;\r\n  text-align: center;\r\n}\r\n.step-item.active .text-pill {\r\n  font-weight: 600;\r\n}\r\n.num-pill {\r\n  background-color: #7b7b7b;\r\n  border-radius: 10px;\r\n  width: 50px;\r\n  height: 100%;\r\n  color: white;\r\n  justify-content: center;\r\n  text-align: center;\r\n}\r\n.text-pill {\r\n  height: 100%;\r\n  width: 100%;\r\n  font-weight: 200;\r\n}\r\n\r\n.step-pills .step-item a {\r\n  text-decoration: none;\r\n  color: #7b7b7b;\r\n}\r\n.step-pills .step-item.active {\r\n  border: 0px solid transparent !important;\r\n}\r\n.detail-section {\r\n  background-color: white !important;\r\n  margin-left: auto;\r\n  -webkit-box-shadow: none !important;\r\n  padding: 2em;\r\n  box-shadow: 0 !important;\r\n  border-radius: 14px;\r\n  margin-bottom: 2em;\r\n  align-content: center;\r\n  background-color: white;\r\n  -webkit-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n}\r\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EditQuotation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EditQuotation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditQuotation.vue?vue&type=template&id=2b108e2a&scoped=true&\"\nimport script from \"./EditQuotation.vue?vue&type=script&lang=js&\"\nexport * from \"./EditQuotation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditQuotation.vue?vue&type=style&index=0&id=2b108e2a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b108e2a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}