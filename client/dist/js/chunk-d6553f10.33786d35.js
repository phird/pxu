(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6553f10"],{"0ab0":function(t,e,o){"use strict";o("3525")},3525:function(t,e,o){},"480c":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wholenewsite"},[o("div",{staticClass:"alert"},[t.modalconfirm?o("div",{staticClass:"modal-confirmation"},[o("span",{staticStyle:{"margin-bottom":"2em"}},[o("b-icon",{attrs:{icon:"trash","font-scale":"5"}})],1),o("p",{attrs:{id:"confirm-text"}},[t._v("คุณแน่ใจว่าจะยกเลิกสัญญาใบเสนอราคานี้ใช่หรือไม่")]),o("div",{staticClass:"button-section"},[o("div",[o("button",{staticClass:"confirm-butt-alert",on:{click:function(e){return t.rescindingquo(t.qID)}}},[t._v(" ยืนยัน ")])]),o("div",[o("button",{staticClass:"cancle-butt-alert",on:{click:function(e){t.modalconfirm=!1}}},[t._v(" ยกเลิก ")])])])]):t._e()]),o("a-card",{staticClass:"header-solid h-full",class:{isNotModalconfirm:t.modalconfirm},attrs:{bordered:!1,bodyStyle:{padding:0}},scopedSlots:t._u([{key:"title",fn:function(){return[o("a-row",{attrs:{type:"flex",align:"middle"}},[o("a-col",{attrs:{span:24,md:12}},[o("h5",{staticClass:"font-semibold m-0"},[t._v("ใบเสนอราคา")])]),o("a-col",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-end"},attrs:{span:24,md:12}},[o("div",{staticClass:"table-upload-btn"},[o("router-link",{attrs:{to:"/Quotations/CreateQuotation"}},[o("a-tooltip",[o("template",{slot:"title"},[t._v(" สร้างใบเสนอราคา ")]),o("a-button",{staticStyle:{color:"white"},attrs:{type:"primary"}},[o("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[o("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 17C3 16.4477 3.44772 16 4 16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H4C3.44772 18 3 17.5523 3 17ZM6.29289 6.70711C5.90237 6.31658 5.90237 5.68342 6.29289 5.29289L9.29289 2.29289C9.48043 2.10536 9.73478 2 10 2C10.2652 2 10.5196 2.10536 10.7071 2.29289L13.7071 5.29289C14.0976 5.68342 14.0976 6.31658 13.7071 6.70711C13.3166 7.09763 12.6834 7.09763 12.2929 6.70711L11 5.41421L11 13C11 13.5523 10.5523 14 10 14C9.44771 14 9 13.5523 9 13L9 5.41421L7.70711 6.70711C7.31658 7.09763 6.68342 7.09763 6.29289 6.70711Z",fill:"#111827"}})]),o("span",[t._v(" สร้างใบเสนอราคา ")])])],2)],1)],1)])],1)]},proxy:!0}])},[t.success?o("a-alert",{attrs:{message:"ทำสัญญาสำเร็จ",type:"success","show-icon":""}}):t._e(),t.nerror?o("a-alert",{attrs:{message:"ยกเลิกสัญญาสำเร็จ",type:"error","show-icon":""}}):t._e(),o("a-table",{staticClass:"quotation-table",attrs:{columns:t.columns,"data-source":t.quotation,pagination:!0},scopedSlots:t._u([{key:"qID",fn:function(e){return[o("a",[t._v("QA"+t._s(e))])]}},{key:"qName",fn:function(e){return[o("a",[t._v(" "+t._s(e))])]}},{key:"status",fn:function(e){return[o("a-tooltip",[o("template",{slot:"title"},[t._v(" สถานะทำสัญญาแล้ว ")]),"Contracted"==e?o("a",{staticClass:"contracted-label"},[t._v(t._s(e))]):t._e()],2),o("a-tooltip",[o("template",{slot:"title"},[t._v(" สถานะกำลังเจรจา ")]),"Negotiation"==e?o("a",{staticClass:"negotiation-label"},[t._v(t._s(e))]):t._e()],2)]}},{key:"statusw",fn:function(e){return[o("a-tooltip",[o("template",{slot:"title"},[t._v(" สถานะโปรเจคเสร็จสิ้น ")]),"Done"==e?o("a",{staticClass:"done-status"},[t._v(t._s(e))]):t._e()],2),o("a-tooltip",[o("template",{slot:"title"},[t._v(" สถานะกำลังดำเนินการ ")]),"On-Going"==e?o("a",{staticClass:"ongoing-status"},[t._v(t._s(e))]):t._e()],2)]}},{key:"val",fn:function(e){return[o("a",[t._v(t._s(e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")))])]}},{key:"act-1",fn:function(e){return["Contracted"==e.statusquotation?o("a-menu-item",[o("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/Invoice/"+e.quotationID}},[o("a-tooltip",[o("template",{slot:"title"},[t._v(" เปิดดูใบวางบิล ")]),o("a",{staticStyle:{"text-decoration":"none"}},[t._v("ใบวางบิล")])],2)],1)],1):t._e()]}},{key:"act",fn:function(e){return[o("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/createPDFquotation/"+e.quotationID,target:"_blank"}},[o("a-tooltip",[o("template",{slot:"title"},[t._v(" PDF ของใบเสนอราคา ")]),o("b-icon",{staticStyle:{width:"20px",height:"20px",margin:"0px 0.7em 0px 0.5em",color:"red"},attrs:{icon:"file-earmark-pdf"}})],2)],1),o("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/Quotations/CreateScope/"+e.quotationID,target:"_blank"}},[o("a-tooltip",[o("template",{slot:"title"},[t._v(" PDF ของรายละเอียดเพิ่มเติม ")]),o("b-icon",{staticStyle:{width:"20px",height:"20px",margin:"0px 0.7em 0px 0.5em"},attrs:{icon:"file-earmark-pdf"}})],2)],1),o("a-dropdown",[o("a",{staticClass:"ant-dropdown-link",staticStyle:{width:"20px",height:"20px"},on:{click:function(t){return t.preventDefault()}}},[o("svg",{staticClass:"bi bi-three-dots-vertical",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[o("path",{attrs:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}})])]),o("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[o("a-menu-item",["Negotiation"==e.statusquotation?o("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/Quotations/Editquotation/"+e.quotationID}},[o("a",{staticStyle:{"text-decoration":"none"}},[t._v("แก้ไข")])]):t._e()],1),"Negotiation"==e.statusquotation?o("a-menu-item",[o("a",{staticStyle:{"text-decoration":"none"},on:{click:function(o){return t.contractedquo(e.quotationID)}}},[t._v(" ทำสัญญาแล้ว ")])]):t._e(),o("a-menu-item",[o("a",{staticStyle:{"text-decoration":"none"},on:{click:function(o){t.modalconfirm=!0,t.qID=e.quotationID}}},[t._v(" ยกเลิกสัญญา ")])])],1)],1)]}}])})],1)],1)},n=[],i=o("1da1"),s=(o("96cf"),o("bc3a")),c=o.n(s),r={props:{columns:{type:Array,default:function(){return[{title:"#",dataIndex:"quotationID",scopedSlots:{customRender:"qID"}},{title:"ชื่อโปรเจค",dataIndex:"quotationName",scopedSlots:{customRender:"qName"}},{title:"สภานะการเจรจา",dataIndex:"statusquotation",scopedSlots:{customRender:"status"}},{title:"สถานะของงาน",dataIndex:"statuswork",scopedSlots:{customRender:"statusw"}},{title:"มูลค่าโปรเจค",dataIndex:"paymentPrice",scopedSlots:{customRender:"val"}},{title:" ",scopedSlots:{customRender:"act-1"}},{title:" ",scopedSlots:{customRender:"act"}}]}}},data:function(){return{projectHeaderBtns:"all",quotation:[],contract:"",success:!1,nerror:!1,modalconfirm:!1,qID:""}},created:function(){this.getquotation()},methods:{createpdf:function(t){console.log("im gonna create pdf")},getquotation:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("get-quo"),e.prev=1,e.next=4,c.a.get("http://128.199.187.173:5000/quotation");case 4:o=e.sent,t.quotation=o.data,console.log(t.quotation),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},rescindingquo:function(t){console.log(t),c.a.put("http://128.199.187.173:5000/quotation/".concat(t),{quostatus:"Rescinding"}),this.modalconfirm=!1,this.nerror=!0,setTimeout((function(){window.location.reload(!1)}),400)},contractedquo:function(t){console.log(t),c.a.put("http://128.199.187.173:5000/quotation/".concat(t),{quostatus:"Contracted"}),this.success=!0,setTimeout((function(){window.location.reload(!1)}),400)}}},l=r,u=(o("0ab0"),o("0c7c")),d=Object(u["a"])(l,a,n,!1,null,"3725021f",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-d6553f10.33786d35.js.map