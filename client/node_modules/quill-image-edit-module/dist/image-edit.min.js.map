{"version":3,"file":"image-edit.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAmB,UAAID,IAEvBD,EAAgB,UAAIC,IARtB,CASGK,MAAM,WACT,M,kCCRA,IAAIC,EAAoB,SAA2BC,GAClD,OAID,SAAyBA,GACxB,QAASA,GAA0B,iBAAVA,EALlBC,CAAgBD,KAQxB,SAAmBA,GAClB,IAAIE,EAAcC,OAAOC,UAAUC,SAASC,KAAKN,GAEjD,MAAuB,oBAAhBE,GACa,kBAAhBA,GAQL,SAAwBF,GACvB,OAAOA,EAAMO,WAAaC,EARtBC,CAAeT,GAZdU,CAAUV,IAiBZQ,EADiC,mBAAXG,QAAyBA,OAAOC,IAClBD,OAAOC,IAAI,iBAAmB,MAUtE,SAASC,EAA8Bb,EAAOc,GAC7C,OAA0B,IAAlBA,EAAQC,OAAmBD,EAAQf,kBAAkBC,GAC1DgB,GANiBC,EAMKjB,EALlBkB,MAAMC,QAAQF,GAAO,GAAK,IAKAjB,EAAOc,GACrCd,EAPJ,IAAqBiB,EAUrB,SAASG,EAAkBC,EAAQC,EAAQR,GAC1C,OAAOO,EAAOE,OAAOD,GAAQE,KAAI,SAASC,GACzC,OAAOZ,EAA8BY,EAASX,MAoBhD,SAASY,EAAQL,GAChB,OAAOlB,OAAOwB,KAAKN,GAAQE,OAT5B,SAAyCF,GACxC,OAAOlB,OAAOyB,sBACXzB,OAAOyB,sBAAsBP,GAAQQ,QAAO,SAASC,GACtD,OAAOT,EAAOU,qBAAqBD,MAElC,GAI+BE,CAAgCX,IAGnE,SAASY,EAAmBC,EAAQC,GACnC,IACC,OAAOA,KAAYD,EAClB,MAAME,GACP,OAAO,GAgCT,SAASpB,EAAUK,EAAQC,EAAQR,IAClCA,EAAUA,GAAW,IACbuB,WAAavB,EAAQuB,YAAcjB,EAC3CN,EAAQf,kBAAoBe,EAAQf,mBAAqBA,EAGzDe,EAAQD,8BAAgCA,EAExC,IAAIyB,EAAgBpB,MAAMC,QAAQG,GAIlC,OAFgCgB,IADZpB,MAAMC,QAAQE,GAKvBiB,EACHxB,EAAQuB,WAAWhB,EAAQC,EAAQR,GApC5C,SAAqBO,EAAQC,EAAQR,GACpC,IAAIyB,EAAc,GAiBlB,OAhBIzB,EAAQf,kBAAkBsB,IAC7BK,EAAQL,GAAQmB,SAAQ,SAASC,GAChCF,EAAYE,GAAO5B,EAA8BQ,EAAOoB,GAAM3B,MAGhEY,EAAQJ,GAAQkB,SAAQ,SAASC,IAblC,SAA0BpB,EAAQoB,GACjC,OAAOR,EAAmBZ,EAAQoB,MAC5BtC,OAAOuC,eAAepC,KAAKe,EAAQoB,IACpCtC,OAAO4B,qBAAqBzB,KAAKe,EAAQoB,KAWzCE,CAAiBtB,EAAQoB,KAIzBR,EAAmBZ,EAAQoB,IAAQ3B,EAAQf,kBAAkBuB,EAAOmB,IACvEF,EAAYE,GAhDf,SAA0BA,EAAK3B,GAC9B,IAAKA,EAAQ8B,YACZ,OAAO5B,EAER,IAAI4B,EAAc9B,EAAQ8B,YAAYH,GACtC,MAA8B,mBAAhBG,EAA6BA,EAAc5B,EA2CpC6B,CAAiBJ,EAAK3B,EAAtB+B,CAA+BxB,EAAOoB,GAAMnB,EAAOmB,GAAM3B,GAE5EyB,EAAYE,GAAO5B,EAA8BS,EAAOmB,GAAM3B,OAGzDyB,EAoBCO,CAAYzB,EAAQC,EAAQR,GAJ5BD,EAA8BS,EAAQR,GAQ/CE,EAAU+B,IAAM,SAAsBC,EAAOlC,GAC5C,IAAKI,MAAMC,QAAQ6B,GAClB,MAAM,IAAIC,MAAM,qCAGjB,OAAOD,EAAME,QAAO,SAASC,EAAMC,GAClC,OAAOpC,EAAUmC,EAAMC,EAAMtC,KAC3B,KAGJ,IAAIuC,EAAcrC,EAElBrB,EAAOD,QAAU2D,ICnIbC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAa/D,QAGrB,IAAIC,EAAS2D,EAAyBE,GAAY,CAGjD9D,QAAS,IAOV,OAHAiE,EAAoBH,GAAU7D,EAAQA,EAAOD,QAAS6D,GAG/C5D,EAAOD,QCpBf6D,EAAoBK,EAAKjE,IACxB,IAAIkE,EAASlE,GAAUA,EAAOmE,WAC7B,IAAOnE,EAAiB,QACxB,IAAM,EAEP,OADA4D,EAAoBQ,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRN,EAAoBQ,EAAI,CAACrE,EAASuE,KACjC,IAAI,IAAIxB,KAAOwB,EACXV,EAAoBW,EAAED,EAAYxB,KAASc,EAAoBW,EAAExE,EAAS+C,IAC5EtC,OAAOgE,eAAezE,EAAS+C,EAAK,CAAE2B,YAAY,EAAMC,IAAKJ,EAAWxB,MCJ3Ec,EAAoBW,EAAI,CAACI,EAAKC,IAAUpE,OAAOC,UAAUsC,eAAepC,KAAKgE,EAAKC,G,kECAlF,SACEC,QAAS,CACP,cACA,UACA,SACA,UAEFC,WAAY,SACZC,cAAe,CACbC,SAAU,WACVC,UAAW,aACXC,OAAQ,mBAEVC,aAAc,CACZH,SAAU,WACVI,OAAQ,OACRC,MAAO,OACPC,gBAAiB,QACjBJ,OAAQ,iBACRD,UAAW,aACXM,QAAS,QAEXC,cAAe,CACbR,SAAU,WACVS,KAAM,wCACNC,QAAS,UACTC,UAAW,SACXL,gBAAiB,QACjBM,MAAO,OACPV,OAAQ,iBACRD,UAAW,aACXM,QAAS,OACTM,OAAQ,WAEVC,gBAAiB,CACfd,SAAU,WACVe,IAAK,MACLC,KAAM,MACNC,UAAW,6BACXC,SAAU,OACVR,QAAS,QACTN,OAAQ,OACRe,WAAY,OACZC,WAAY,OACZR,MAAO,OACPD,UAAW,SACXU,aAAc,OAGhBC,kBAAmB,CACjBtB,SAAU,WACVuB,QAAS,QACTR,IAAK,QACLC,KAAM,MACNX,MAAO,IACPD,OAAQ,IACRF,OAAQ,iBACRsB,YAAa,2CACbP,UAAW,2BAEbQ,cAAe,CACbzB,SAAU,WACVe,IAAK,QACLW,MAAO,IACPV,KAAM,IACNZ,OAAQ,IACRuB,SAAU,QACVlB,KAAM,wCACNE,UAAW,SACXC,MAAO,OACPX,UAAW,aACXY,OAAQ,WAEVe,oBAAqB,CACnBL,QAAS,eACTlB,MAAO,OACPD,OAAQ,OACRgB,WAAY,QACZlB,OAAQ,iBACR2B,cAAe,UAEjBC,uBAAwB,CACtBC,KAAM,OACNC,OAAQ,OACRC,YAAa,MCpFjB,I,EAAA,EAQE,SAAYC,GAwBZ,KAAAC,SAAW,aAMX,KAAAC,UAAY,aAOZ,KAAAC,SAAW,aApCTlH,KAAKmH,QAAUJ,EAAKI,QACpBnH,KAAKoH,IAAML,EAAKK,IAChBpH,KAAKqH,KAAON,EAAKM,KACjBrH,KAAKsH,OAASP,EAAKO,OACnBtH,KAAKgB,QAAU+F,EAAK/F,QACpBhB,KAAKuH,cAAgBR,EAAKG,U,0cCZ9B,uE,OAGE,EAAAF,SAAW,WAET,EAAKZ,QAAUoB,SAASC,cAAc,OAGtCpH,OAAOqH,OAAO,EAAKtB,QAAQuB,MAAO,EAAK3G,QAAQqE,eAG/C,EAAK8B,QAAQS,YAAY,EAAKxB,UAGhC,EAAAc,SAAW,WACT,GAAK,EAAKd,SAAY,EAAKgB,IAA3B,CAIA,IAAMS,EAAO,EAAKC,iBAElB,GADA,EAAK1B,QAAQ2B,UAAYF,EAAKG,KAAK,aAC/BH,EAAK,GAAK,KAAOA,EAAK,GAAK,GAE7BxH,OAAOqH,OAAO,EAAKtB,QAAQuB,MAAO,CAChCpB,MAAO,MACP0B,OAAQ,MACRpC,KAAM,cAEH,GAA4B,SAAxB,EAAKuB,IAAIO,MAAMO,MAAkB,CAE1C,IAAMC,EAAW,EAAK/B,QAAQgC,wBAC9B/H,OAAOqH,OAAO,EAAKtB,QAAQuB,MAAO,CAChCpB,MAAO,OACP0B,OAAQ,KAAIE,EAASlD,OAAS,GAAC,KAC/BY,KAAM,KAAIsC,EAASjD,MAAQ,GAAC,YAIxBiD,EAAW,EAAK/B,QAAQgC,wBAC9B/H,OAAOqH,OAAO,EAAKtB,QAAQuB,MAAO,CAChCpB,MAAO,KAAI4B,EAASjD,MAAQ,GAAC,KAC7B+C,OAAQ,KAAIE,EAASlD,OAAS,GAAC,KAC/BY,KAAM,WAKZ,EAAAiC,eAAiB,WAAM,OACrB,EAAKV,IAAIlC,MACTmD,KAAKC,MAAO,EAAKlB,IAAIlC,MAAQ,EAAKkC,IAAImB,aAAgB,EAAKnB,IAAIoB,iB,EAEnE,OAnDyC,OAmDzC,EAnDA,CAAyCC,GCFzC,uOCAA,wOCAA,wO,qeCKA,uE,OAIE,EAAAzB,SAAW,WAET,EAAK0B,QAAUlB,SAASC,cAAc,OACtCpH,OAAOqH,OAAO,EAAKgB,QAAQf,MAAO,EAAK3G,QAAQsF,eAC/C,EAAKa,QAAQS,YAAY,EAAKc,SAG9B,EAAKC,oBACL,EAAKC,sBAGP,EAAAD,kBAAoB,WAClB,EAAKE,WAAa,CAChB,CACEC,KAAM,EACNC,MAAO,WACL,EAAKC,aAAa,UAAW,UAC7B,EAAKA,aAAa,QAAS,QAC3B,EAAKA,aAAa,SAAU,gBAE9BC,UAAW,WAAM,MAA+B,SAA/B,EAAKC,aAAa,WAErC,CACEJ,KAAM,EACNC,MAAO,WACL,EAAKC,aAAa,UAAW,SAC7B,EAAKA,aAAa,QAAS,IAC3B,EAAKA,aAAa,SAAU,SAE9BC,UAAW,WAAM,MAAgC,SAAhC,EAAKC,aAAa,YAErC,CACEJ,KAAM,EACNC,MAAO,WACL,EAAKC,aAAa,UAAW,UAC7B,EAAKA,aAAa,QAAS,SAC3B,EAAKA,aAAa,SAAU,gBAE9BC,UAAW,WAAM,MAA+B,UAA/B,EAAKC,aAAa,aAgBzC,EAAAF,aAAe,SAACrG,EAAazC,GAC3B,EAAKkH,IAAIO,MAAM,EAAKwB,UAAUxG,IAAQzC,GAGxC,EAAAgJ,aAAe,SAACvG,GACd,OAAO,EAAKyE,IAAIO,MAAM,EAAKwB,UAAUxG,KAGvC,EAAAyG,gBAAkB,SAACzG,GACjB,EAAKyE,IAAIO,MAAM,EAAKwB,UAAUxG,IAAQ,IAGxC,EAAAiG,mBAAqB,WACnB,IAAMS,EAAyB,GAC/B,EAAKR,WAAWnG,SAAQ,SAAC4G,EAAgBC,G,MACjCC,EAAShC,SAASC,cAAc,QACtC4B,EAAQI,KAAKD,GACbA,EAAOzB,UAAYuB,EAAUR,KAC7BU,EAAOE,iBAAiB,SAAS,WAE/BL,EAAQ3G,SAAQ,SAAC8G,GAAwB,OAAAA,EAAO7B,MAAM5F,OAAS,MAC3DuH,EAAUL,aAEZ,EAAKG,gBAAgB,WACrB,EAAKA,gBAAgB,UACrB,EAAKA,gBAAgB,WAGrB,EAAKO,cAAcH,GACnBF,EAAUP,SAGZ,EAAKxB,mBAEPlH,OAAOqH,OAAO8B,EAAO7B,MAAO,EAAK3G,QAAQyF,qBACrC8C,EAAM,IACRC,EAAO7B,MAAMiC,gBAAkB,KAG7BN,EAAUL,aAEZ,EAAKU,cAAcH,GAET,QAAZ,IAAKd,eAAO,SAAEd,YAAY4B,OAI9B,EAAAG,cAAgB,SAACH,GACfA,EAAO7B,MAAM5F,OAAS,e,EAE1B,OA5GqC,OA+CnC,YAAAoH,UAAA,SAAUU,GACR,IAAMC,EAAQD,EAAKE,MAAM,KACnBC,EAAOF,EACVG,MAAM,GACNvI,KAAI,SAAUwI,GACb,OAAOA,EAAK,GAAGC,cAAgBD,EAAKD,MAAM,MAE3CjC,KAAK,IACR,OAAO8B,EAAM,GAAKE,GAqDtB,EA5GA,CAAqCvB,G,qeCHrC,uE,OAME,EAAAzB,SAAW,WAET,EAAKoD,MAAQ,GAGb,EAAKC,OAAO,eACZ,EAAKA,OAAO,eACZ,EAAKA,OAAO,eACZ,EAAKA,OAAO,eAEZ,EAAKC,iBAGP,EAAArD,UAAY,WAEV,EAAKsD,UAAU,KAGjB,EAAAD,cAAgB,WACd,IAAME,GAAoBC,WAAW,EAAKzJ,QAAQgE,aAAaE,OAAS,EAAC,KACnEwF,GAAoBD,WAAW,EAAKzJ,QAAQgE,aAAaC,QAAU,EAAC,KAG1E,CACE,CAAEY,KAAM2E,EAAe5E,IAAK8E,GAC5B,CAAEnE,MAAOiE,EAAe5E,IAAK8E,GAC7B,CAAEnE,MAAOiE,EAAevC,OAAQyC,GAChC,CAAE7E,KAAM2E,EAAevC,OAAQyC,IAC/BhI,SAAQ,SAACiI,EAAKpB,GACdlJ,OAAOqH,OAAO,EAAK0C,MAAMb,GAAK5B,MAAOgD,OAIzC,EAAAN,OAAS,SAAC3E,GAER,IAAMkF,EAAMpD,SAASC,cAAc,OAGnCpH,OAAOqH,OAAOkD,EAAIjD,MAAO,EAAK3G,QAAQgE,cACtC4F,EAAIjD,MAAMjC,OAASA,EAGnBkF,EAAIjD,MAAMzC,MAAW,EAAKlE,QAAQgE,aAAaE,MAAK,KACpD0F,EAAIjD,MAAM1C,OAAY,EAAKjE,QAAQgE,aAAaC,OAAM,KAGtD2F,EAAIlB,iBAAiB,YAAa,EAAKmB,iBAAiB,GAExD,EAAK1D,QAAQS,YAAYgD,GAEzB,EAAKR,MAAMX,KAAKmB,IAGlB,EAAAC,gBAAkB,SAACC,GAEjB,EAAKC,QAAUD,EAAIvJ,OAEnB,EAAKyJ,WAAaF,EAAIG,QAEtB,EAAKC,aAAe,EAAK9D,IAAIlC,OAAS,EAAKkC,IAAImB,aAE/C,EAAKgC,UAAU,EAAKQ,QAAQpD,MAAMjC,QAElC8B,SAASkC,iBAAiB,YAAa,EAAKyB,YAAY,GACxD3D,SAASkC,iBAAiB,UAAW,EAAK0B,eAAe,IAG3D,EAAAA,cAAgB,WAEd,EAAKb,UAAU,IAEf/C,SAAS6D,oBAAoB,YAAa,EAAKF,YAC/C3D,SAAS6D,oBAAoB,UAAW,EAAKD,gBAG/C,EAAAD,WAAa,SAACL,GACZ,GAAK,EAAK1D,IAAV,CAKA,IAAMkE,EAASR,EAAIG,QAAU,EAAKD,WAC9B,EAAKD,UAAY,EAAKX,MAAM,IAAM,EAAKW,UAAY,EAAKX,MAAM,GAEhE,EAAKhD,IAAIlC,MAAQmD,KAAKC,MAAM,EAAK4C,aAAeI,GAGhD,EAAKlE,IAAIlC,MAAQmD,KAAKC,MAAM,EAAK4C,aAAeI,GAElD,EAAK/D,kBAGP,EAAAgD,UAAY,SAACrK,GACX,CACEsH,SAAS+D,KACT,EAAKnE,KACL1E,SAAQ,SAAC8I,GACTA,EAAG7D,MAAMjC,OAASxF,M,EAGxB,OA1GoC,OA0GpC,EA1GA,CAAoCuI,G,6dCK9BgD,EAAoB,CAAEC,YAAW,EAAEC,QAAO,EAAEC,OAAM,EAAEC,OCL1D,uE,OAIE,EAAA7E,SAAW,WAET,EAAK8E,UAAYtE,SAASC,cAAc,OACxC,EAAKsE,YAAcvE,SAASC,cAAc,QAG1CpH,OAAOqH,OAAO,EAAKoE,UAAUnE,MAAO,EAAK3G,QAAQ2E,iBACjDtF,OAAOqH,OAAO,EAAKqE,YAAYpE,MAAO,EAAK3G,QAAQmF,mBAEnD,EAAK2F,UAAUE,UAAY,EAAKhL,QAAQ2D,WAExC,EAAKmH,UAAUpC,iBAAiB,QAAS,EAAKuC,cAG9C,EAAKH,UAAUlE,YAAY,EAAKmE,aAChC,EAAK5E,QAAQS,YAAY,EAAKkE,YAGhC,EAAAG,aAAe,WACT,EAAK7E,KACP,EAAKE,SAEP,EAAKD,Q,EAET,OA5BoC,OA4BpC,EA5BA,CAAoCoB,I,QDoBlC,SAAYyD,EAAYlL,GAAxB,gBAAwB,IAAAA,IAAAA,EAAA,IAiCxB,KAAAmL,kBAAoB,WAClB,EAAKC,gBAEL,EAAK1H,QAAU,EAAK2H,cAAc3K,KAChC,SAAA4K,GAAQ,WAAKb,EAAaa,IAASA,GAAM,MAG3C,EAAK5H,QAAQhC,SACX,SAAC7C,GACCA,EAAOmH,cAIX,EAAKE,YAGP,KAAAA,SAAW,WACT,EAAKqF,qBAEL,EAAK7H,QAAQhC,SACX,SAAC7C,GACCA,EAAOqH,eAKb,KAAAkF,cAAgB,WACd,EAAK1H,QAAQhC,SACX,SAAC7C,GACCA,EAAOoH,eAIX,EAAKvC,QAAU,IAGjB,KAAA8H,YAAc,SAAC1B,GACb,IAAMU,EAAKV,EAAIvJ,OACf,GAAIiK,GAAMA,EAAGiB,SAAwC,QAA7BjB,EAAGiB,QAAQtC,cAAyB,CAC1D,GAAI,EAAK/C,MAAQoE,EAEf,OAEE,EAAKpE,KAEP,EAAKC,OAGP,EAAKqF,KAAKlB,QACD,EAAKpE,KAEd,EAAKC,QAIT,KAAAqF,KAAO,SAACtF,GAEN,EAAKA,IAAMA,EAEX,EAAKuF,cAEL,EAAKR,qBAGP,KAAAQ,YAAc,WACR,EAAKxF,SACP,EAAKyF,cAGP,EAAKV,MAAMW,aAAa,MAGxB,EAAKC,cAAc,QAGnBtF,SAASkC,iBAAiB,QAAS,EAAKqD,YAAY,GACpD,EAAKb,MAAMxM,KAAKgK,iBAAiB,QAAS,EAAKqD,YAAY,GAG3D,EAAK5F,QAAUK,SAASC,cAAc,OACtCpH,OAAOqH,OAAO,EAAKP,QAAQQ,MAAO,EAAK3G,QAAQ4D,eAE/C,EAAKsH,MAAMxM,KAAKsN,WAAWpF,YAAY,EAAKT,SAE5C,EAAKoF,sBAGP,KAAAK,YAAc,WACP,EAAKzF,UAKV,EAAK+E,MAAMxM,KAAKsN,WAAWC,YAAY,EAAK9F,SAC5C,EAAKA,aAAUvD,EAGf4D,SAAS6D,oBAAoB,QAAS,EAAK0B,YAC3C,EAAKb,MAAMxM,KAAK2L,oBAAoB,QAAS,EAAK0B,YAGlD,EAAKD,cAAc,MAGrB,KAAAP,mBAAqB,WACnB,GAAK,EAAKpF,SAAY,EAAKC,IAA3B,CAKA,IAAM8F,EAAS,EAAKhB,MAAMxM,KAAKsN,WACzBG,EAAU,EAAK/F,IAAIgB,wBACnBgF,EAAgBF,EAAO9E,wBAE7B/H,OAAOqH,OAAO,EAAKP,QAAQQ,MAAO,CAChC9B,KAASsH,EAAQtH,KAAOuH,EAAcvH,KAAO,EAAIqH,EAAOG,WAAU,KAClEzH,IAAQuH,EAAQvH,IAAMwH,EAAcxH,IAAMsH,EAAOI,UAAS,KAC1DpI,MAAUiI,EAAQjI,MAAK,KACvBD,OAAWkI,EAAQlI,OAAM,SAI7B,KAAAqC,OAAS,W,MACJ,EAAKF,MACa,QAAnB,IAAKA,IAAI4F,kBAAU,SAAEC,YAAY,EAAK7F,OAI1C,KAAAC,KAAO,WACL,EAAKuF,cACL,EAAKR,gBACL,EAAKhF,SAAMxD,GAGb,KAAAkJ,cAAgB,SAAC5M,GACf,CACE,aACA,gBACA,mBACA,gBACAwC,SAAQ,SAAC+B,GAET,EAAKyH,MAAMxM,KAAKiI,MAAMlD,GAAQvE,EAC9BsH,SAAS+F,gBAAgB5F,MAAMlD,GAAQvE,MAI3C,KAAA6M,WAAa,SAACjC,GACR,EAAK1D,MACY,IAAf0D,EAAI0C,SAAgC,GAAf1C,EAAI0C,SAC3B,EAAKlG,SAEP,EAAKD,SAvLPrH,KAAKkM,MAAQA,EAIb,IAAIG,GAAgB,EAChBrL,EAAQ0D,UACV2H,EAAgBrL,EAAQ0D,QAAQuF,SAIlCjK,KAAKgB,QAAU,IAAU,EAAgBA,GAGrCqL,IACFrM,KAAKgB,QAAQ0D,QAAU2H,GAIzB7E,SAASiG,YAAY,wBAAwB,EAAO,SAGpDzN,KAAKkM,MAAMxM,KAAKgK,iBAAiB,QAAS1J,KAAKwM,aAAa,GAE5DxM,KAAKkM,MAAMxM,KAAKsN,WAAWrF,MAAM9C,SAAW7E,KAAKkM,MAAMxM,KAAKsN,WAAWrF,MAAM9C,UAAY,WAGzF7E,KAAKqM,cAAgBrM,KAAKgB,QAAQ0D,QAElC1E,KAAK0E,QAAU,K","sources":["webpack://ImageEdit/webpack/universalModuleDefinition","webpack://ImageEdit/./node_modules/deepmerge/dist/cjs.js","webpack://ImageEdit/webpack/bootstrap","webpack://ImageEdit/webpack/runtime/compat get default export","webpack://ImageEdit/webpack/runtime/define property getters","webpack://ImageEdit/webpack/runtime/hasOwnProperty shorthand","webpack://ImageEdit/./src/defaultOptions.ts","webpack://ImageEdit/./src/modules/baseModule.ts","webpack://ImageEdit/./src/modules/displaySize.ts","webpack://ImageEdit/./node_modules/quill/assets/icons/align-left.svg","webpack://ImageEdit/./node_modules/quill/assets/icons/align-center.svg","webpack://ImageEdit/./node_modules/quill/assets/icons/align-right.svg","webpack://ImageEdit/./src/modules/toolbar.ts","webpack://ImageEdit/./src/modules/resize.ts","webpack://ImageEdit/./src/index.ts","webpack://ImageEdit/./src/modules/delete.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ImageEdit\"] = factory();\n\telse\n\t\troot[\"ImageEdit\"] = factory();\n})(this, function() {\nreturn ","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export default {\n  modules: [\n    'DisplaySize',\n    'Toolbar',\n    'Resize',\n    'Delete',\n  ],\n  deleteText: 'Delete',\n  overlayStyles: {\n    position: 'absolute',\n    boxSizing: 'border-box',\n    border: '1px dashed #444',\n  },\n  handleStyles: {\n    position: 'absolute',\n    height: '12px',\n    width: '12px',\n    backgroundColor: 'white',\n    border: '1px solid #777',\n    boxSizing: 'border-box',\n    opacity: '0.80',\n  },\n  displayStyles: {\n    position: 'absolute',\n    font: '12px/1.0 Arial, Helvetica, sans-serif',\n    padding: '4px 8px',\n    textAlign: 'center',\n    backgroundColor: 'white',\n    color: '#333',\n    border: '1px solid #777',\n    boxSizing: 'border-box',\n    opacity: '0.80',\n    cursor: 'default',\n  },\n  deleteBtnStyles: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate3d(-50%, -50%, 0)',\n    fontSize: '12px',\n    padding: '0 4px',\n    height: '28px',\n    lineHeight: '28px',\n    background: '#000',\n    color: '#fff',\n    textAlign: 'center',\n    borderRadius: '5px',\n\n  },\n  deleteArrowStyles: {\n    position: 'absolute',\n    display: 'block',\n    top: '-12px',\n    left: '50%',\n    width: '0',\n    height: '0',\n    border: '6px solid #000',\n    borderColor: 'transparent transparent #000 transparent',\n    transform: 'translate3d(-50%, 0, 0)',\n  },\n  toolbarStyles: {\n    position: 'absolute',\n    top: '-12px',\n    right: '0',\n    left: '0',\n    height: '0',\n    minWidth: '100px',\n    font: '12px/1.0 Arial, Helvetica, sans-serif',\n    textAlign: 'center',\n    color: '#333',\n    boxSizing: 'border-box',\n    cursor: 'default',\n  },\n  toolbarButtonStyles: {\n    display: 'inline-block',\n    width: '24px',\n    height: '24px',\n    background: 'white',\n    border: '1px solid #999',\n    verticalAlign: 'middle',\n  },\n  toolbarButtonSvgStyles: {\n    fill: '#444',\n    stroke: '#444',\n    strokeWidth: '2',\n  },\n};\n","export class BaseModule {\n  protected overlay: any;\n  protected img: any;\n  protected hide: any;\n  protected remove: any;\n  protected options: any;\n  protected requestUpdate: any;\n\n  constructor(edit: any) {\n    this.overlay = edit.overlay;\n    this.img = edit.img;\n    this.hide = edit.hide;\n    this.remove = edit.remove;\n    this.options = edit.options;\n    this.requestUpdate = edit.onUpdate;\n  }\n\n  /*\n      requestUpdate (passed in by the library during construction, above) can be used to let the library know that\n      you've changed something about the image that would require re-calculating the overlay (and all of its child\n      elements)\n      For example, if you add a margin to the element, you'll want to call this or else all the controls will be\n      misaligned on-screen.\n   */\n\n  /*\n      onCreate will be called when the element is clicked on\n      If the module has any user controls, it should create any containers that it'll need here.\n      The overlay has absolute positioning, and will be automatically repositioned and resized as needed, so you can\n      use your own absolute positioning and the 'top', 'right', etc. styles to be positioned relative to the element\n      on-screen.\n   */\n  onCreate = () => {};\n\n  /*\n      onDestroy will be called when the element is de-selected, or when this module otherwise needs to tidy up.\n      If you created any DOM elements in onCreate, please remove them from the DOM and destroy them here.\n   */\n  onDestroy = () => {};\n\n  /*\n      onUpdate will be called any time that the element is changed (e.g. resized, aligned, etc.)\n      This frequently happens during resize dragging, so keep computations light while here to ensure a smooth\n      user experience.\n   */\n  onUpdate = () => {};\n}\n","import { BaseModule } from './baseModule';\n\nexport default class DisplaySize extends BaseModule {\n  private display: HTMLElement | undefined;\n\n  onCreate = () => {\n    // Create the container to hold the size display\n    this.display = document.createElement('div');\n\n    // Apply styles\n    Object.assign(this.display.style, this.options.displayStyles);\n\n    // Attach it\n    this.overlay.appendChild(this.display);\n  };\n\n  onUpdate = () => {\n    if (!this.display || !this.img) {\n      return;\n    }\n\n    const size = this.getCurrentSize();\n    this.display.innerHTML = size.join(' &times; ');\n    if (size[0] > 120 && size[1] > 30) {\n      // position on top of image\n      Object.assign(this.display.style, {\n        right: '4px',\n        bottom: '4px',\n        left: 'auto',\n      });\n    } else if (this.img.style.float == 'right') {\n      // position off bottom left\n      const dispRect = this.display.getBoundingClientRect();\n      Object.assign(this.display.style, {\n        right: 'auto',\n        bottom: `-${dispRect.height + 4}px`,\n        left: `-${dispRect.width + 4}px`,\n      });\n    } else {\n      // position off bottom right\n      const dispRect = this.display.getBoundingClientRect();\n      Object.assign(this.display.style, {\n        right: `-${dispRect.width + 4}px`,\n        bottom: `-${dispRect.height + 4}px`,\n        left: 'auto',\n      });\n    }\n  };\n\n  getCurrentSize = () => [\n    this.img.width,\n    Math.round((this.img.width / this.img.naturalWidth) * this.img.naturalHeight),\n  ];\n}\n","export default \"<svg viewbox=\\\"0 0 18 18\\\">\\n  <line class=\\\"ql-stroke\\\" x1=\\\"3\\\" x2=\\\"15\\\" y1=\\\"9\\\" y2=\\\"9\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"3\\\" x2=\\\"13\\\" y1=\\\"14\\\" y2=\\\"14\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"3\\\" x2=\\\"9\\\" y1=\\\"4\\\" y2=\\\"4\\\"></line>\\n</svg>\";","export default \"<svg viewbox=\\\"0 0 18 18\\\">\\n  <line class=\\\"ql-stroke\\\" x1=\\\"15\\\" x2=\\\"3\\\" y1=\\\"9\\\" y2=\\\"9\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"14\\\" x2=\\\"4\\\" y1=\\\"14\\\" y2=\\\"14\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"12\\\" x2=\\\"6\\\" y1=\\\"4\\\" y2=\\\"4\\\"></line>\\n</svg>\";","export default \"<svg viewbox=\\\"0 0 18 18\\\">\\n  <line class=\\\"ql-stroke\\\" x1=\\\"15\\\" x2=\\\"3\\\" y1=\\\"9\\\" y2=\\\"9\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"15\\\" x2=\\\"5\\\" y1=\\\"14\\\" y2=\\\"14\\\"></line>\\n  <line class=\\\"ql-stroke\\\" x1=\\\"15\\\" x2=\\\"9\\\" y1=\\\"4\\\" y2=\\\"4\\\"></line>\\n</svg>\";","import IconAlignLeft from 'quill/assets/icons/align-left.svg';\nimport IconAlignCenter from 'quill/assets/icons/align-center.svg';\nimport IconAlignRight from 'quill/assets/icons/align-right.svg';\nimport { BaseModule } from './baseModule';\n\nexport default class Toolbar extends BaseModule {\n  private toolbar: HTMLElement | undefined;\n  private alignments: any;\n\n  onCreate = () => {\n    // Setup Toolbar\n    this.toolbar = document.createElement('div');\n    Object.assign(this.toolbar.style, this.options.toolbarStyles);\n    this.overlay.appendChild(this.toolbar);\n\n    // Setup Buttons\n    this._defineAlignments();\n    this._addToolbarButtons();\n  };\n\n  _defineAlignments = () => {\n    this.alignments = [\n      {\n        icon: IconAlignLeft,\n        apply: () => {\n          this._setProperty('display', 'inline');\n          this._setProperty('float', 'left');\n          this._setProperty('margin', '0 1em 1em 0');\n        },\n        isApplied: () => this._getProperty('float') === 'left',\n      },\n      {\n        icon: IconAlignCenter,\n        apply: () => {\n          this._setProperty('display', 'block');\n          this._setProperty('float', '');\n          this._setProperty('margin', 'auto');\n        },\n        isApplied: () => this._getProperty('margin') === 'auto',\n      },\n      {\n        icon: IconAlignRight,\n        apply: () => {\n          this._setProperty('display', 'inline');\n          this._setProperty('float', 'right');\n          this._setProperty('margin', '0 0 1em 1em');\n        },\n        isApplied: () => this._getProperty('float') === 'right',\n      },\n    ];\n  };\n\n  _camelize(name: string): string {\n    const parts = name.split('-');\n    const rest = parts\n      .slice(1)\n      .map(function (part: string) {\n        return part[0].toUpperCase() + part.slice(1);\n      })\n      .join('');\n    return parts[0] + rest;\n  }\n\n  _setProperty = (key: string, value: string) => {\n    this.img.style[this._camelize(key)] = value;\n  };\n\n  _getProperty = (key: string) => {\n    return this.img.style[this._camelize(key)];\n  };\n\n  _removeProperty = (key: string) => {\n    this.img.style[this._camelize(key)] = '';\n  };\n\n  _addToolbarButtons = () => {\n    const buttons: HTMLElement[] = [];\n    this.alignments.forEach((alignment: any, idx: number) => {\n      const button = document.createElement('span');\n      buttons.push(button);\n      button.innerHTML = alignment.icon;\n      button.addEventListener('click', () => {\n        // deselect all buttons\n        buttons.forEach((button: HTMLElement) => button.style.filter = '');\n        if (alignment.isApplied()) {\n          // If applied, unapply\n          this._removeProperty('display');\n          this._removeProperty('margin');\n          this._removeProperty('float');\n        } else {\n          // otherwise, select button and apply\n          this._selectButton(button);\n          alignment.apply();\n        }\n        // image may change position; redraw drag handles\n        this.requestUpdate();\n      });\n      Object.assign(button.style, this.options.toolbarButtonStyles);\n      if (idx > 0) {\n        button.style.borderLeftWidth = '0';\n      }\n      // Object.assign((button.children[0] as HTMLElement).style, this.options.toolbarButtonSvgStyles);\n      if (alignment.isApplied()) {\n        // select button if previously applied\n        this._selectButton(button);\n      }\n      this.toolbar?.appendChild(button);\n    });\n  };\n\n  _selectButton = (button: HTMLElement) => {\n    button.style.filter = 'invert(20%)';\n  };\n}\n","import { BaseModule } from './baseModule';\n\nexport default class Resize extends BaseModule {\n  private boxes: any;\n  private dragStartX: any;\n  private dragBox: any;\n  private preDragWidth: any;\n\n  onCreate = () => {\n    // track resize handles\n    this.boxes = [];\n\n    // add 4 resize handles\n    this.addBox('nwse-resize'); // top left\n    this.addBox('nesw-resize'); // top right\n    this.addBox('nwse-resize'); // bottom right\n    this.addBox('nesw-resize'); // bottom left\n\n    this.positionBoxes();\n  };\n\n  onDestroy = () => {\n    // reset drag handle cursors\n    this.setCursor('');\n  };\n\n  positionBoxes = () => {\n    const handleXOffset = `${-parseFloat(this.options.handleStyles.width) / 2}px`;\n    const handleYOffset = `${-parseFloat(this.options.handleStyles.height) / 2}px`;\n\n    // set the top and left for each drag handle\n    [\n      { left: handleXOffset, top: handleYOffset },        // top left\n      { right: handleXOffset, top: handleYOffset },       // top right\n      { right: handleXOffset, bottom: handleYOffset },    // bottom right\n      { left: handleXOffset, bottom: handleYOffset },     // bottom left\n    ].forEach((pos, idx) => {\n      Object.assign(this.boxes[idx].style, pos);\n    });\n  };\n\n  addBox = (cursor: string) => {\n    // create div element for resize handle\n    const box = document.createElement('div');\n\n    // Star with the specified styles\n    Object.assign(box.style, this.options.handleStyles);\n    box.style.cursor = cursor;\n\n    // Set the width/height to use 'px'\n    box.style.width = `${this.options.handleStyles.width}px`;\n    box.style.height = `${this.options.handleStyles.height}px`;\n\n    // listen for mousedown on each box\n    box.addEventListener('mousedown', this.handleMousedown, false);\n    // add drag handle to document\n    this.overlay.appendChild(box);\n    // keep track of drag handle\n    this.boxes.push(box);\n  };\n\n  handleMousedown = (evt: MouseEvent) => {\n    // note which box\n    this.dragBox = evt.target as HTMLElement;\n    // note starting mousedown position\n    this.dragStartX = evt.clientX;\n    // store the width before the drag\n    this.preDragWidth = this.img.width || this.img.naturalWidth;\n    // set the proper cursor everywhere\n    this.setCursor(this.dragBox.style.cursor);\n    // listen for movement and mouseup\n    document.addEventListener('mousemove', this.handleDrag, false);\n    document.addEventListener('mouseup', this.handleMouseup, false);\n  };\n\n  handleMouseup = () => {\n    // reset cursor everywhere\n    this.setCursor('');\n    // stop listening for movement and mouseup\n    document.removeEventListener('mousemove', this.handleDrag);\n    document.removeEventListener('mouseup', this.handleMouseup);\n  };\n\n  handleDrag = (evt: MouseEvent) => {\n    if (!this.img) {\n      // image not set yet\n      return;\n    }\n    // update image size\n    const deltaX = evt.clientX - this.dragStartX;\n    if (this.dragBox === this.boxes[0] || this.dragBox === this.boxes[3]) {\n      // left-side resize handler; dragging right shrinks image\n      this.img.width = Math.round(this.preDragWidth - deltaX);\n    } else {\n      // right-side resize handler; dragging right enlarges image\n      this.img.width = Math.round(this.preDragWidth + deltaX);\n    }\n    this.requestUpdate();\n  };\n\n  setCursor = (value: string) => {\n    [\n      document.body,\n      this.img,\n    ].forEach((el) => {\n      el.style.cursor = value;\n    });\n  };\n}\n","import deepmerge from 'deepmerge';\nimport DefaultOptions from './defaultOptions';\nimport DisplaySize from './modules/displaySize';\nimport Toolbar from './modules/toolbar';\nimport Resize from './modules/resize';\nimport Delete from './modules/delete';\n\nconst knownModules: any = { DisplaySize, Toolbar, Resize, Delete };\n\n/**\n * Custom module for quilljs to allow user to resize <img> elements\n * (Works on Chrome, Edge, Safari and replaces Firefox's native resize behavior)\n * @see https://quilljs.com/blog/building-a-custom-module/\n */\nexport default class ImageEdit {\n  private quill: any;\n  private options: any;\n  private moduleClasses: any[];\n  private modules: any[];\n  private img: HTMLElement | undefined;\n  private overlay: any;\n\n  constructor(quill: any, options: any = {}) {\n    // save the quill reference and options\n    this.quill = quill;\n\n    // Apply the options to our defaults, and stash them for later\n    // defaultsDeep doesn't do arrays as you'd expect, so we'll need to apply the classes array from options separately\n    let moduleClasses = false;\n    if (options.modules) {\n      moduleClasses = options.modules.slice();\n    }\n\n    // Apply options to default options\n    this.options = deepmerge(DefaultOptions, options);\n\n    // (see above about moduleClasses)\n    if (moduleClasses) {\n      this.options.modules = moduleClasses;\n    }\n\n    // disable native image resizing on firefox\n    document.execCommand('enableObjectResizing', false, 'false');\n\n    // respond to clicks inside the editor\n    this.quill.root.addEventListener('click', this.handleClick, false);\n\n    this.quill.root.parentNode.style.position = this.quill.root.parentNode.style.position || 'relative';\n\n    // setup modules\n    this.moduleClasses = this.options.modules;\n\n    this.modules = [];\n  }\n\n  initializeModules = () => {\n    this.removeModules();\n\n    this.modules = this.moduleClasses.map(\n      item => new (knownModules[item] || item)(this),\n    );\n\n    this.modules.forEach(\n      (module) => {\n        module.onCreate();\n      },\n    );\n\n    this.onUpdate();\n  };\n\n  onUpdate = () => {\n    this.repositionElements();\n\n    this.modules.forEach(\n      (module) => {\n        module.onUpdate();\n      },\n    );\n  };\n\n  removeModules = () => {\n    this.modules.forEach(\n      (module) => {\n        module.onDestroy();\n      },\n    );\n\n    this.modules = [];\n  };\n\n  handleClick = (evt: MouseEvent) => {\n    const el = evt.target as HTMLElement;\n    if (el && el.tagName && el.tagName.toUpperCase() === 'IMG') {\n      if (this.img === el) {\n        // we are already focused on this image\n        return;\n      }\n      if (this.img) {\n        // we were just focused on another image\n        this.hide();\n      }\n      // clicked on an image inside the editor\n      this.show(el);\n    } else if (this.img) {\n      // clicked on a non image\n      this.hide();\n    }\n  };\n\n  show = (img: HTMLElement) => {\n    // keep track of this img element\n    this.img = img;\n\n    this.showOverlay();\n\n    this.initializeModules();\n  };\n\n  showOverlay = () => {\n    if (this.overlay) {\n      this.hideOverlay();\n    }\n\n    this.quill.setSelection(null);\n\n    // prevent spurious text selection\n    this.setUserSelect('none');\n\n    // listen for the image being deleted or moved\n    document.addEventListener('keyup', this.checkImage, true);\n    this.quill.root.addEventListener('input', this.checkImage, true);\n\n    // Create and add the overlay\n    this.overlay = document.createElement('div');\n    Object.assign(this.overlay.style, this.options.overlayStyles);\n\n    this.quill.root.parentNode.appendChild(this.overlay);\n\n    this.repositionElements();\n  };\n\n  hideOverlay = () => {\n    if (!this.overlay) {\n      return;\n    }\n\n    // Remove the overlay\n    this.quill.root.parentNode.removeChild(this.overlay);\n    this.overlay = undefined;\n\n    // stop listening for image deletion or movement\n    document.removeEventListener('keyup', this.checkImage);\n    this.quill.root.removeEventListener('input', this.checkImage);\n\n    // reset user-select\n    this.setUserSelect('');\n  };\n\n  repositionElements = () => {\n    if (!this.overlay || !this.img) {\n      return;\n    }\n\n    // position the overlay over the image\n    const parent = this.quill.root.parentNode;\n    const imgRect = this.img.getBoundingClientRect();\n    const containerRect = parent.getBoundingClientRect();\n\n    Object.assign(this.overlay.style, {\n      left: `${imgRect.left - containerRect.left - 1 + parent.scrollLeft}px`,\n      top: `${imgRect.top - containerRect.top + parent.scrollTop}px`,\n      width: `${imgRect.width}px`,\n      height: `${imgRect.height}px`,\n    });\n  };\n\n  remove = () => {\n    if(this.img) {\n      this.img.parentNode?.removeChild(this.img);\n    }\n  }\n\n  hide = () => {\n    this.hideOverlay();\n    this.removeModules();\n    this.img = undefined;\n  };\n\n  setUserSelect = (value: string) => {\n    [\n      'userSelect',\n      'mozUserSelect',\n      'webkitUserSelect',\n      'msUserSelect',\n    ].forEach((prop: any) => {\n      // set on contenteditable element and <html>\n      this.quill.root.style[prop] = value;\n      document.documentElement.style[prop] = value;\n    });\n  };\n\n  checkImage = (evt: KeyboardEvent) => {\n    if (this.img) {\n      if (evt.keyCode == 46 || evt.keyCode == 8) {\n        this.remove();\n      }\n      this.hide();\n    }\n  };\n}\n","import { BaseModule } from './baseModule';\n\nexport default class Delete extends BaseModule {\n  private deleteBtn: any;\n  private deleteArrow: any;\n\n  onCreate = () => {\n    // Create the container to hold the size display\n    this.deleteBtn = document.createElement('div');\n    this.deleteArrow = document.createElement('span');\n\n    // Apply styles\n    Object.assign(this.deleteBtn.style, this.options.deleteBtnStyles);\n    Object.assign(this.deleteArrow.style, this.options.deleteArrowStyles);\n\n    this.deleteBtn.innerText = this.options.deleteText;\n\n    this.deleteBtn.addEventListener('click', this.handleDelete);\n\n    // Attach it\n    this.deleteBtn.appendChild(this.deleteArrow);\n    this.overlay.appendChild(this.deleteBtn);\n  };\n\n  handleDelete = () => {\n    if (this.img) {\n      this.remove();\n    }\n    this.hide();\n  };\n}\n"],"names":["root","factory","exports","module","define","amd","this","isMergeableObject","value","isNonNullObject","stringValue","Object","prototype","toString","call","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","Symbol","for","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","val","Array","isArray","defaultArrayMerge","target","source","concat","map","element","getKeys","keys","getOwnPropertySymbols","filter","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","object","property","_","arrayMerge","sourceIsArray","destination","forEach","key","hasOwnProperty","propertyIsUnsafe","customMerge","getMergeFunction","mergeObject","all","array","Error","reduce","prev","next","deepmerge_1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","modules","deleteText","overlayStyles","position","boxSizing","border","handleStyles","height","width","backgroundColor","opacity","displayStyles","font","padding","textAlign","color","cursor","deleteBtnStyles","top","left","transform","fontSize","lineHeight","background","borderRadius","deleteArrowStyles","display","borderColor","toolbarStyles","right","minWidth","toolbarButtonStyles","verticalAlign","toolbarButtonSvgStyles","fill","stroke","strokeWidth","edit","onCreate","onDestroy","onUpdate","overlay","img","hide","remove","requestUpdate","document","createElement","assign","style","appendChild","size","getCurrentSize","innerHTML","join","bottom","float","dispRect","getBoundingClientRect","Math","round","naturalWidth","naturalHeight","BaseModule","toolbar","_defineAlignments","_addToolbarButtons","alignments","icon","apply","_setProperty","isApplied","_getProperty","_camelize","_removeProperty","buttons","alignment","idx","button","push","addEventListener","_selectButton","borderLeftWidth","name","parts","split","rest","slice","part","toUpperCase","boxes","addBox","positionBoxes","setCursor","handleXOffset","parseFloat","handleYOffset","pos","box","handleMousedown","evt","dragBox","dragStartX","clientX","preDragWidth","handleDrag","handleMouseup","removeEventListener","deltaX","body","el","knownModules","DisplaySize","Toolbar","Resize","Delete","deleteBtn","deleteArrow","innerText","handleDelete","quill","initializeModules","removeModules","moduleClasses","item","repositionElements","handleClick","tagName","show","showOverlay","hideOverlay","setSelection","setUserSelect","checkImage","parentNode","removeChild","parent","imgRect","containerRect","scrollLeft","scrollTop","documentElement","keyCode","execCommand"],"sourceRoot":""}