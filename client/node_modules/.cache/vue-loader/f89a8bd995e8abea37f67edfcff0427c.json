{"remainingRequest":"D:\\GitHub\\pxu-web\\client\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GitHub\\pxu-web\\client\\src\\views\\CreateInvoice.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GitHub\\pxu-web\\client\\src\\views\\CreateInvoice.vue","mtime":1653541092118},{"path":"D:\\GitHub\\pxu-web\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651634972765},{"path":"D:\\GitHub\\pxu-web\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1651453997873},{"path":"D:\\GitHub\\pxu-web\\client\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651634972757},{"path":"D:\\GitHub\\pxu-web\\client\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1651635696127}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0aEZvcm1hdDogew0KICAgICAgICBzdHJpbmdpZnk6IChkYXRlKSA9PiB7DQogICAgICAgICAgcmV0dXJuIGRhdGUNCiAgICAgICAgICAgID8gbW9tZW50KGRhdGUpLmFkZCg1NDMsICJ5ZWFyIikuZm9ybWF0KCJERC9NTS9ZWVlZIikNCiAgICAgICAgICAgIDogbnVsbDsNCiAgICAgICAgfSwNCiAgICAgICAgcGFyc2U6IChkYXRlaW52KSA9PiB7DQogICAgICAgICAgcmV0dXJuIGRhdGVpbnYNCiAgICAgICAgICAgID8gbW9tZW50KGRhdGVpbnYsICJERC9NTS9ZWVlZIikuc3VidHJhY3QoNTQzLCAieWVhciIpLnRvRGF0ZSgpDQogICAgICAgICAgICA6IG51bGw7DQogICAgICAgIH0sDQogICAgICB9LA0KICAgICAgaW5JRDogIiIsDQogICAgICBpbnZvaWNlOiBbXSwNCiAgICAgIC8vDQogICAgICB0b2RvczogW10sDQogICAgICBuZXdwcmljZTogMCwNCiAgICAgIG5ld3F1YW50aXR5OiAxLA0KICAgICAgbmV3VG9kbzogIiIsDQogICAgICBpbmRleEVkaXRUb2RvOiBudWxsLA0KICAgICAgdGVtcE5hbWVUb2RvOiAiIiwNCiAgICAgIHRlbXBxdWFudGl0eVRvZG86ICIiLA0KICAgICAgdGVtcHByaWNlVG9kbzogIiIsDQogICAgICB0ZW1wcHJpY2U6IDAsDQogICAgICAvLw0KICAgICAgYmFuazogW10sDQogICAgICBkYXRlaW52OiAiIiwNCiAgICAgIHZhdDc6IDAsDQogICAgICB0YXgzOiAwLA0KICAgICAgdG90YWw6IDAsDQogICAgICBiYW5rSUQ6ICIiLA0KICAgICAgY2hhbmdlaW46IGZhbHNlLA0KICAgICAgYmFua2NoOiB7DQogICAgICAgIGJuYW1lOiAiIiwNCiAgICAgICAgYWNjbmFtZTogIiIsDQogICAgICAgIGFjY251bTogIiIsDQogICAgICB9LA0KICAgICAgc3VjY2VzczogZmFsc2UsDQogICAgICBuZXJyb3I6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5pbklEID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOw0KICAgIHRoaXMuZ2V0aW52KHRoaXMuaW5JRCk7DQogICAgdGhpcy5nZXRiYW5rKCk7DQogICAgdGhpcy5nZXRzY29wZSh0aGlzLmluSUQpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYmFja3dhcmQoKSB7DQogICAgICBoaXN0b3J5LmJhY2soKTsNCiAgICB9LA0KICAgIGNob29zZWJhbmsoYm4sIGFjLCBhbikgew0KICAgICAgdGhpcy5iYW5rY2guYm5hbWUgPSBibjsNCiAgICAgIHRoaXMuYmFua2NoLmFjY25hbWUgPSBhYzsNCiAgICAgIHRoaXMuYmFua2NoLmFjY251bSA9IGFuOw0KICAgIH0sDQogICAgYWRkVG9kbygpIHsNCiAgICAgIGlmICh0aGlzLm5ld1RvZG8ubGVuZ3RoID09PSAwKSByZXR1cm47DQogICAgICBpZiAodGhpcy5pbmRleEVkaXRUb2RvID09PSBudWxsKSB7DQogICAgICAgIGlmICh0aGlzLm5ld3ByaWNlID4gdGhpcy50ZW1wcHJpY2UpIHJldHVybjsNCiAgICAgICAgdGhpcy50b2Rvcy5wdXNoKHsNCiAgICAgICAgICBuYW1lOiB0aGlzLm5ld1RvZG8sDQogICAgICAgICAgcXVhbnRpdHk6IHRoaXMubmV3cXVhbnRpdHksDQogICAgICAgICAgcHJpY2U6IHRoaXMubmV3cHJpY2UsDQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKHRoaXMubmV3cHJpY2UgPiB0aGlzLnRlbXBwcmljZSkgcmV0dXJuOw0KICAgICAgICB0aGlzLnRvZG9zW3RoaXMuaW5kZXhFZGl0VG9kb10ubmFtZSA9IHRoaXMubmV3VG9kbzsNCiAgICAgICAgdGhpcy50b2Rvc1t0aGlzLmluZGV4RWRpdFRvZG9dLnF1YW50aXR5ID0gdGhpcy5uZXdxdWFudGl0eTsNCiAgICAgICAgdGhpcy50b2Rvc1t0aGlzLmluZGV4RWRpdFRvZG9dLnByaWNlID0gdGhpcy5uZXdwcmljZTsNCiAgICAgICAgdGhpcy5pbmRleEVkaXRUb2RvID0gbnVsbDsNCiAgICAgIH0NCiAgICAgIHRoaXMubmV3VG9kbyA9ICIiOw0KICAgICAgdGhpcy5uZXdxdWFudGl0eSA9IDE7DQogICAgICB0aGlzLm5ld3ByaWNlID0gKHRoaXMudGVtcHByaWNlIC0gdGhpcy5uZXdwcmljZSkudG9GaXhlZCgyKTsNCiAgICAgIHRoaXMudGVtcHByaWNlID0gdGhpcy5uZXdwcmljZTsNCiAgICAgIHRoaXMuY2hhbmdlaW4gPSB0cnVlOw0KICAgIH0sDQogICAgZWRpdFRvZG8oaW5kZXgpIHsNCiAgICAgIHRoaXMubmV3VG9kbyA9IHRoaXMudG9kb3NbaW5kZXhdLm5hbWU7DQogICAgICB0aGlzLm5ld3F1YW50aXR5ID0gdGhpcy50b2Rvc1tpbmRleF0ucXVhbnRpdHk7DQogICAgICB0aGlzLm5ld3ByaWNlID0gdGhpcy50b2Rvc1tpbmRleF0ucHJpY2U7DQogICAgICB0aGlzLnRlbXBwcmljZSA9IE51bWJlcih0aGlzLnRlbXBwcmljZSkgKyBOdW1iZXIodGhpcy50b2Rvc1tpbmRleF0ucHJpY2UpOw0KICAgICAgdGhpcy5pbmRleEVkaXRUb2RvID0gaW5kZXg7DQogICAgICB0aGlzLmNoYW5nZWluID0gdHJ1ZTsNCiAgICB9LA0KICAgIGRlbGV0ZVRvZG8oaW5kZXgpIHsNCiAgICAgIHRoaXMubmV3VG9kbyA9IHRoaXMudG9kb3NbaW5kZXhdLm5hbWU7DQogICAgICB0aGlzLm5ld3F1YW50aXR5ID0gdGhpcy50b2Rvc1tpbmRleF0ucXVhbnRpdHk7DQogICAgICB0aGlzLm5ld3ByaWNlID0gdGhpcy50b2Rvc1tpbmRleF0ucHJpY2U7DQogICAgICB0aGlzLnRvZG9zLnNwbGljZShpbmRleCwgMSk7DQogICAgICB0aGlzLm5ld1RvZG8gPSAiIjsNCiAgICAgIHRoaXMubmV3cXVhbnRpdHkgPSAxOw0KICAgICAgdGhpcy5uZXdwcmljZSA9IE51bWJlcih0aGlzLnRlbXBwcmljZSkgKyBOdW1iZXIodGhpcy5uZXdwcmljZSk7DQogICAgICB0aGlzLnRlbXBwcmljZSA9IHRoaXMubmV3cHJpY2U7DQogICAgICB0aGlzLmNoYW5nZWluID0gdHJ1ZTsNCiAgICB9LA0KICAgIHVwVG9kbyhpbmRleCkgew0KICAgICAgaWYgKGluZGV4ID09PSAwKSByZXR1cm47DQogICAgICB0aGlzLnRlbXBOYW1lVG9kbyA9IHRoaXMudG9kb3NbaW5kZXhdLm5hbWU7DQogICAgICB0aGlzLnRlbXBxdWFudGl0eVRvZG8gPSB0aGlzLnRvZG9zW2luZGV4XS5xdWFudGl0eTsNCiAgICAgIHRoaXMudGVtcHByaWNlVG9kbyA9IHRoaXMudG9kb3NbaW5kZXhdLnByaWNlOw0KICAgICAgdGhpcy50b2Rvc1tpbmRleF0ubmFtZSA9IHRoaXMudG9kb3NbaW5kZXggLSAxXS5uYW1lOw0KICAgICAgdGhpcy50b2Rvc1tpbmRleF0ucXVhbnRpdHkgPSB0aGlzLnRvZG9zW2luZGV4IC0gMV0ucXVhbnRpdHk7DQogICAgICB0aGlzLnRvZG9zW2luZGV4XS5wcmljZSA9IHRoaXMudG9kb3NbaW5kZXggLSAxXS5wcmljZTsNCiAgICAgIHRoaXMudG9kb3NbaW5kZXggLSAxXS5uYW1lID0gdGhpcy50ZW1wTmFtZVRvZG87DQogICAgICB0aGlzLnRvZG9zW2luZGV4IC0gMV0ucXVhbnRpdHkgPSB0aGlzLnRlbXBxdWFudGl0eVRvZG87DQogICAgICB0aGlzLnRvZG9zW2luZGV4IC0gMV0ucHJpY2UgPSB0aGlzLnRlbXBwcmljZVRvZG87DQogICAgICB0aGlzLmNoYW5nZWluID0gdHJ1ZTsNCiAgICB9LA0KICAgIGRvd25Ub2RvKGluZGV4KSB7DQogICAgICBpZiAoaW5kZXggPT09IHRoaXMudG9kb3MubGVuZ3RoIC0gMSkgcmV0dXJuOw0KICAgICAgdGhpcy50ZW1wTmFtZVRvZG8gPSB0aGlzLnRvZG9zW2luZGV4XS5uYW1lOw0KICAgICAgdGhpcy50ZW1wcXVhbnRpdHlUb2RvID0gdGhpcy50b2Rvc1tpbmRleF0ucXVhbnRpdHk7DQogICAgICB0aGlzLnRlbXBwcmljZVRvZG8gPSB0aGlzLnRvZG9zW2luZGV4XS5wcmljZTsNCiAgICAgIHRoaXMudG9kb3NbaW5kZXhdLm5hbWUgPSB0aGlzLnRvZG9zW2luZGV4ICsgMV0ubmFtZTsNCiAgICAgIHRoaXMudG9kb3NbaW5kZXhdLnF1YW50aXR5ID0gdGhpcy50b2Rvc1tpbmRleCArIDFdLnF1YW50aXR5Ow0KICAgICAgdGhpcy50b2Rvc1tpbmRleF0ucHJpY2UgPSB0aGlzLnRvZG9zW2luZGV4ICsgMV0ucHJpY2U7DQogICAgICB0aGlzLnRvZG9zW2luZGV4ICsgMV0ubmFtZSA9IHRoaXMudGVtcE5hbWVUb2RvOw0KICAgICAgdGhpcy50b2Rvc1tpbmRleCArIDFdLnF1YW50aXR5ID0gdGhpcy50ZW1wcXVhbnRpdHlUb2RvOw0KICAgICAgdGhpcy50b2Rvc1tpbmRleCArIDFdLnByaWNlID0gdGhpcy50ZW1wcHJpY2VUb2RvOw0KICAgICAgdGhpcy5jaGFuZ2VpbiA9IHRydWU7DQogICAgfSwNCiAgICBjYW5jbGUoKSB7DQogICAgICBoaXN0b3J5LmJhY2soKTsNCiAgICB9LA0KICAgIHN1YmludigpIHsNCiAgICAgIGF4aW9zDQogICAgICAgIC5wb3N0KGBodHRwczovL3B4dS1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9pbnZvaWNlLyR7dGhpcy5pbklEfWAsIHsNCiAgICAgICAgICBiYW5rSUQ6IHRoaXMuYmFua0lELA0KICAgICAgICAgIGRhdGVpbnY6IHRoaXMuZGF0ZWludiwNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuc3VjY2VzcyA9IHRydWU7DQogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuYmFjaygpOw0KICAgICAgICAgIH0sIDUwMCk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgYXN5bmMgc3VibWl0KCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5kYXRlaW52KTsNCiAgICAgIGlmICh0aGlzLm5ld3ByaWNlICE9IDAgfHwgdGhpcy5iYW5rSUQgPT0gIiIgfHwgdGhpcy5kYXRlaW52ID09IG51bGwpIHsNCiAgICAgICAgdGhpcy5uZXJyb3IgPSB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKHRoaXMuY2hhbmdlaW4pIHsNCiAgICAgICAgICBhd2FpdCBheGlvcy5kZWxldGUoDQogICAgICAgICAgICBgaHR0cHM6Ly9weHUtc2VydmVyLmhlcm9rdWFwcC5jb20vc2NvcGUvJHt0aGlzLmluSUR9YA0KICAgICAgICAgICk7DQogICAgICAgICAgY29uc3QgcmVxdWVzdG9uZSA9IFtdOw0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b2Rvcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgcmVxdWVzdG9uZVtpXSA9IGF4aW9zLnBvc3QoDQogICAgICAgICAgICAgICJodHRwczovL3B4dS1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9zY29wZSIsDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBxSUQ6IHRoaXMuaW5JRCwNCiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnRvZG9zW2ldLm5hbWUsDQogICAgICAgICAgICAgICAgcHJpY2U6IHRoaXMudG9kb3NbaV0ucHJpY2UsDQogICAgICAgICAgICAgICAgcXVhbnRpdHk6IHRoaXMudG9kb3NbaV0ucXVhbnRpdHksDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICk7DQogICAgICAgICAgfQ0KICAgICAgICAgIGF4aW9zLmFsbChbcmVxdWVzdG9uZV0pLnRoZW4odGhpcy5zdWJpbnYoKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5zdWJpbnYoKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZ2V0aW52KGlkKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgNCiAgICAgICAgICBgaHR0cHM6Ly9weHUtc2VydmVyLmhlcm9rdWFwcC5jb20vaW52b2ljZS9pbi8ke2lkfWANCiAgICAgICAgKTsNCiAgICAgICAgdGhpcy5pbnZvaWNlID0gcmVzcG9uc2UuZGF0YVswXTsNCiAgICAgICAgaWYgKHRoaXMuaW52b2ljZS5jdXN0b21lcnN0YXR1cyA9PSAi4LiZ4Li04LiV4Li04Lia4Li44LiE4LiE4LilIikgew0KICAgICAgICAgIGlmICh0aGlzLmludm9pY2UudmF0c3RhdHVzID09ICJ2YXTguJnguK3guIEiKSB7DQogICAgICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy5pbnZvaWNlLnRvdGFscHJpY2VpbnY7DQogICAgICAgICAgICB0aGlzLnZhdDcgPSB0aGlzLnRvdGFsICogMC4wNzsNCiAgICAgICAgICAgIHRoaXMudGF4MyA9IHRoaXMudG90YWwgKiAwLjAzOw0KICAgICAgICAgICAgdGhpcy5uZXdwcmljZSA9IHRoaXMudG90YWwudG9GaXhlZCgyKTsNCiAgICAgICAgICAgIHRoaXMudGVtcHByaWNlID0gdGhpcy50b3RhbC50b0ZpeGVkKDIpOw0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnZvaWNlLnZhdHN0YXR1cyA9PSAidmF04LmD4LiZIikgew0KICAgICAgICAgICAgdGhpcy50b3RhbCA9ICh0aGlzLmludm9pY2UudG90YWxwcmljZWludiAqIDEwMCkgLyAxMDc7DQogICAgICAgICAgICB0aGlzLnZhdDcgPSB0aGlzLmludm9pY2UudG90YWxwcmljZWludiAtIHRoaXMudG90YWw7DQogICAgICAgICAgICB0aGlzLnRheDMgPSB0aGlzLnRvdGFsICogMC4wMzsNCiAgICAgICAgICAgIHRoaXMubmV3cHJpY2UgPSB0aGlzLmludm9pY2UudG90YWxwcmljZWludi50b0ZpeGVkKDIpOw0KICAgICAgICAgICAgdGhpcy50ZW1wcHJpY2UgPSB0aGlzLmludm9pY2UudG90YWxwcmljZWludi50b0ZpeGVkKDIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBpZiAodGhpcy5pbnZvaWNlLnZhdHN0YXR1cyA9PSAidmF04LiZ4Lit4LiBIikgew0KICAgICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMuaW52b2ljZS50b3RhbHByaWNlaW52Ow0KICAgICAgICAgICAgdGhpcy52YXQ3ID0gdGhpcy50b3RhbCAqIDAuMDc7DQogICAgICAgICAgICB0aGlzLnRheDMgPSAwOw0KICAgICAgICAgICAgdGhpcy5uZXdwcmljZSA9IHRoaXMudG90YWwudG9GaXhlZCgyKTsNCiAgICAgICAgICAgIHRoaXMudGVtcHByaWNlID0gdGhpcy50b3RhbC50b0ZpeGVkKDIpOw0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnZvaWNlLnZhdHN0YXR1cyA9PSAidmF04LmD4LiZIikgew0KICAgICAgICAgICAgdGhpcy50b3RhbCA9ICh0aGlzLmludm9pY2UudG90YWxwcmljZWludiAqIDEwMCkgLyAxMDc7DQogICAgICAgICAgICB0aGlzLnZhdDcgPSB0aGlzLmludm9pY2UudG90YWxwcmljZWludiAtIHRoaXMudG90YWw7DQogICAgICAgICAgICB0aGlzLnRheDMgPSAwOw0KICAgICAgICAgICAgdGhpcy5uZXdwcmljZSA9IHRoaXMuaW52b2ljZS50b3RhbHByaWNlaW52LnRvRml4ZWQoMik7DQogICAgICAgICAgICB0aGlzLnRlbXBwcmljZSA9IHRoaXMuaW52b2ljZS50b3RhbHByaWNlaW52LnRvRml4ZWQoMik7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLmludm9pY2UuZGF0ZWludicpOw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmludm9pY2UuZGF0ZWludm9pY2UpOw0KICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmRhdGVpbnZvaWNlID09ICcnKSB7DQogICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsNCiAgICAgICAgICB0aGlzLmRhdGVpbnYgPSBtb21lbnQodG9kYXkpLmFkZCg1NDMsICd5ZWFyJykuZm9ybWF0KCdERC9NTS9ZWVlZJyk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHRoaXMuZGF0ZWludiA9IHRoaXMuaW52b2ljZS5kYXRlaW52b2ljZTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5pbnZvaWNlLmJhbmtJRCAhPSAiMCIpIHsNCiAgICAgICAgICB0aGlzLmJhbmtJRCA9IHRoaXMuaW52b2ljZS5iYW5rSUQ7DQogICAgICAgICAgdGhpcy5nZXRiYW5raWQodGhpcy5iYW5rSUQpOw0KICAgICAgICB9DQoNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5pbnZvaWNlKTsNCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgZ2V0YmFuaygpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KA0KICAgICAgICAgIGBodHRwczovL3B4dS1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9iYW5rYA0KICAgICAgICApOw0KICAgICAgICB0aGlzLmJhbmsgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmJhbmspOw0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBnZXRzY29wZShpZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoDQogICAgICAgICAgYGh0dHBzOi8vcHh1LXNlcnZlci5oZXJva3VhcHAuY29tL3Njb3BlLyR7aWR9YA0KICAgICAgICApOw0KICAgICAgICB0aGlzLnRvZG9zID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgaWYgKHRoaXMudG9kb3MubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICB0aGlzLm5ld3ByaWNlID0gMDsNCiAgICAgICAgICB0aGlzLnRlbXBwcmljZSA9IHRoaXMubmV3cHJpY2U7DQogICAgICAgIH0NCiAgICAgICAgY29uc29sZS5sb2codGhpcy50b2Rvcyk7DQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGdldGJhbmtpZChpZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoDQogICAgICAgICAgYGh0dHBzOi8vcHh1LXNlcnZlci5oZXJva3VhcHAuY29tL2JhbmsvJHtpZH1gDQogICAgICAgICk7DQogICAgICAgIHRoaXMuYmFua2NoLmJuYW1lID0gcmVzcG9uc2UuZGF0YVswXS5iYW5rTmFtZTsNCiAgICAgICAgdGhpcy5iYW5rY2guYWNjbmFtZSA9IHJlc3BvbnNlLmRhdGFbMF0uYWNjb3VudE5hbWU7DQogICAgICAgIHRoaXMuYmFua2NoLmFjY251bSA9IHJlc3BvbnNlLmRhdGFbMF0uYmFua0FjY291bnQ7DQogICAgICAgIGNvbnNvbGUubG9nKCJkZHNmc2RmIik7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYmFua2NoKTsNCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["CreateInvoice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateInvoice.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"whole-site\">\r\n    <!-- left layout start here -->\r\n\r\n    <div class=\"left-layout\">\r\n      <div class=\"l-container\">\r\n        <a-alert\r\n          v-if=\"nerror\"\r\n          message=\"โปรดใส่ข้อมูลให้ครบถ้วน\"\r\n          type=\"error\"\r\n          show-icon\r\n        />\r\n        <a-alert\r\n          v-if=\"success\"\r\n          message=\"บันทึกข้อมูลสำเร็จ\"\r\n          type=\"success\"\r\n          show-icon\r\n        />\r\n        <b-icon icon=\"chevron-left\" @click=\"backward\"> </b-icon>\r\n        <div class=\"header\">\r\n          <div class=\"header-top\">\r\n            <div class=\"ht-left\">\r\n              <img\r\n                src=\"https://pxu-server.herokuapp.com/stamp/stamp.png\"\r\n                alt=\"\"\r\n                style=\"width: 140px\"\r\n              />\r\n            </div>\r\n            <div class=\"ht-right\">\r\n              <p style=\"font-size: 20px\">ใบวางบิล</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"header-mid\">\r\n            <div class=\"company-detail\">\r\n              <span>{{ invoice.wcompanyName }}</span>\r\n              <span\r\n                >ที่อยู่ {{ invoice.address }} ต.{{ invoice.subdistrict }}\r\n              </span>\r\n              <span\r\n                >อ.{{ invoice.district }} จ.{{ invoice.province }}\r\n                {{ invoice.postcode }} , เบอร์มือถือ\r\n                {{ invoice.wcompanyNumber }}</span\r\n              >\r\n              <span>เลขผู้เสียภาษี : {{ invoice.taxNumber }} </span>\r\n              <span>อีเมล์ : {{ invoice.employeeEmail }}</span>\r\n            </div>\r\n            <div class=\"invoice-detail\">\r\n              <div class=\"id-box\">\r\n                <span>เลขที่ INV{{ invoice.invoiceID }}</span>\r\n                <div class=\"date-section hbox\">\r\n                  <span>วันที่ </span>\r\n                  <span>\r\n                    <date-picker\r\n                      v-model=\"dateinv\"\r\n                      valueType=\"format\"\r\n                      :format=\"thFormat\"\r\n                    ></date-picker>\r\n                  </span>\r\n                </div>\r\n                <span>ผู้ขาย {{ invoice.employeeName }}</span>\r\n                <span>เบอร์ {{ invoice.employeeNumber }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"header-bott\">\r\n            <div class=\"customer-section\">\r\n              <div v-if=\"invoice.customerstatus == 'นิติบุคคล'\" class=\"cs-box\">\r\n                <span>ลูกค้า {{ invoice.companyName }}</span\r\n                ><span\r\n                  >ที่อยู่ {{ invoice.caddress }} ต.{{ invoice.csubdistrict }}\r\n                </span>\r\n                <span\r\n                  >อ.{{ invoice.cdistrict }} จ.{{ invoice.cprovince }}\r\n                  {{ invoice.cpostcode }} , เบอร์มือถือ\r\n                  {{ invoice.companyNumber }}</span\r\n                >\r\n                <span>({{ invoice.contactName }})</span>\r\n              </div>\r\n              <div\r\n                v-if=\"invoice.customerstatus == 'บุคคลธรรมดา'\"\r\n                class=\"cs-box\"\r\n              >\r\n                <span\r\n                  >ลูกค้า {{ invoice.companyName }}, เบอร์มือถือ\r\n                  {{ invoice.companyNumber }}</span\r\n                >\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"body\">\r\n          <div class=\"add-detail\">\r\n            <div class=\"todo-form\">\r\n              <table class=\"table-detail\">\r\n                <tr class=\"container-todo-header\">\r\n                  <th class=\"cbox\">\r\n                    <span>รายละเอียด</span>\r\n                  </th>\r\n                  <th class=\"cbox\">\r\n                    <span>จำนวน</span>\r\n                  </th>\r\n                  <th class=\"cbox\">\r\n                    <span>ราคาต่อหน่วย</span>\r\n                  </th>\r\n                  <th class=\"cbox\"></th>\r\n                </tr>\r\n                <tr class=\"container-todo borderbox\">\r\n                  <td class=\"cbox\">\r\n                    <input\r\n                      v-model=\"newTodo\"\r\n                      type=\"text\"\r\n                      placeholder=\"กรอกรายละเอียด\"\r\n                      class=\"form-control form-input me-3\"\r\n                    />\r\n                  </td>\r\n                  <td class=\"cbox\">\r\n                    <input\r\n                      v-model=\"newquantity\"\r\n                      type=\"number\"\r\n                      min=\"1\"\r\n                      class=\"form-control form-input me-3\"\r\n                      style=\"width: 133px\"\r\n                    />\r\n                  </td>\r\n                  <td class=\"cbox\">\r\n                    <input\r\n                      v-model=\"newprice\"\r\n                      type=\"number\"\r\n                      min=\"0\"\r\n                      class=\"form-control form-input me-3\"\r\n                      style=\"width: 133px\"\r\n                    />\r\n                  </td>\r\n                  <td class=\"cbox\">\r\n                    <a-tooltip>\r\n                      <template slot=\"title\"> เพิ่มรายละเอียด </template>\r\n                      <button\r\n                        type=\"submit\"\r\n                        class=\"submit-btn\"\r\n                        @click=\"addTodo()\"\r\n                      >\r\n                        + Add\r\n                      </button>\r\n                    </a-tooltip>\r\n                  </td>\r\n                </tr>\r\n                <div class=\"div-of-todocontainer\">\r\n                  <tr\r\n                    class=\"container-todo-list\"\r\n                    v-for=\"(todo, index) in todos\"\r\n                    :key=\"index\"\r\n                    style=\"width: 100%\"\r\n                  >\r\n                    <!-- /card-todo-container -->\r\n                    <div class=\"card-todo-container\">\r\n                      <td class=\"text-start cbox\">\r\n                        <span>\r\n                          {{ todo.name }}\r\n                        </span>\r\n                      </td>\r\n\r\n                      <td class=\"cbox\">\r\n                        <div\r\n                          class=\"\r\n                            d-flex\r\n                            justify-content-start\r\n                            align-items-center\r\n                          \"\r\n                        >\r\n                          <div>\r\n                            {{ todo.quantity }}\r\n                          </div>\r\n                        </div>\r\n                        <link\r\n                          rel=\"stylesheet\"\r\n                          href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\r\n                        />\r\n                      </td>\r\n\r\n                      <td class=\"cbox\">\r\n                        <div\r\n                          class=\"\r\n                            d-flex\r\n                            justify-content-start\r\n                            align-items-center\r\n                          \"\r\n                        >\r\n                          <div>\r\n                            {{ todo.price }}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n\r\n                      <td class=\"cbox text-end action-btn\">\r\n                        <div class=\"d-flex justify-content-end\">\r\n                          <div class=\"\" @click=\"upTodo(index)\">\r\n                            <i class=\"fa fa-angle-up\"></i>\r\n                          </div>\r\n                          <div class=\"\" @click=\"downTodo(index)\">\r\n                            <i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i>\r\n                          </div>\r\n                          <div class=\"\" @click=\"editTodo(index)\">\r\n                            <i class=\"fa fa-edit\"></i>\r\n                          </div>\r\n                          <div class=\"\" @click=\"deleteTodo(index)\">\r\n                            <i class=\"fa fa-close\"></i>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                    </div>\r\n                    <!-- /card-todo-container -->\r\n                  </tr>\r\n                </div>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"payment-section\">\r\n            <div class=\"ps-left\">\r\n              <span></span>\r\n            </div>\r\n            <div class=\"ps-right\">\r\n              <div\r\n                v-if=\"invoice.customerstatus == 'นิติบุคคล'\"\r\n                class=\"ps-right-box\"\r\n              >\r\n                <span\r\n                  >รวมเป็นเงิน\r\n                  {{\r\n                    total.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\")\r\n                  }}\r\n                  บาท</span\r\n                >\r\n                <span\r\n                  >ภาษี 7%\r\n                  {{\r\n                    vat7.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\")\r\n                  }}\r\n                  บาท</span\r\n                >\r\n                <span\r\n                  >หัก ณ ที่จ่าย 3%\r\n                  {{\r\n                    tax3.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\")\r\n                  }}\r\n                  บาท</span\r\n                >\r\n                <span\r\n                  >จำนวนเงินรวมทั้งสิ้น\r\n                  {{\r\n                    invoice.priceINV\r\n                      .toFixed(2)\r\n                      .replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\")\r\n                  }}\r\n                  บาท</span\r\n                >\r\n              </div>\r\n              <div\r\n                v-if=\"invoice.customerstatus == 'บุคคลธรรมดา'\"\r\n                class=\"ps-right-box\"\r\n              >\r\n                <span\r\n                  >รวมเป็นเงิน\r\n                  {{\r\n                    total.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\")\r\n                  }}\r\n                  บาท</span\r\n                >\r\n                <span\r\n                  >ภาษี 7%\r\n                  {{\r\n                    vat7.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\")\r\n                  }}\r\n                  บาท</span\r\n                >\r\n                <span\r\n                  >จำนวนเงินรวมทั้งสิ้น\r\n                  {{\r\n                    invoice.priceINV\r\n                      .toFixed(2)\r\n                      .replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\")\r\n                  }}\r\n                  บาท</span\r\n                >\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"sign-section\">\r\n          <div class=\"sign-left\">\r\n            <span>\r\n              <b-icon icon=\"square\"></b-icon> โอนผ่าน{{ bankch.bname }}\r\n            </span>\r\n            <span> เลขบัญชี {{ bankch.accnum }} </span>\r\n            <span> ชื่อบัญชี {{ bankch.accname }}</span>\r\n          </div>\r\n          <div class=\"sign-right\">\r\n            <div class=\"s-container\">\r\n              <!-- flex-d => column -->\r\n              <div class=\"c-stamp\">\r\n                <span> </span>\r\n                <span> ในนาม {{ invoice.wcompanyName }}</span>\r\n              </div>\r\n              <div class=\"sign\">\r\n                <div class=\"sign-l\">\r\n                  <span style=\"display: flex\"\r\n                    >ลงชื่อ\r\n                    <div id=\"signbox\"></div\r\n                  ></span>\r\n                  <span> ({{ invoice.employeeName }}) </span>\r\n                  <span> ผู้รับเงิน </span>\r\n                </div>\r\n                <div class=\"sign-r\">\r\n                  <span>{{ dateinv }}</span>\r\n                  <span> วันที่ </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- left layout end here -->\r\n\r\n    <!-- ================================================================= -->\r\n    <!--  right layout start here -->\r\n    <div class=\"right-layout\">\r\n      <div class=\"right-layout-panel\">\r\n        <div class=\"container-panel\">\r\n          <div>\r\n            งวดที่{{ invoice.numberinstallment }} : {{ invoice.priceINV }} บาท\r\n          </div>\r\n          <button type=\"button\" class=\"btn btn-outline-success\" @click=\"submit\">\r\n            <!-- <b-icon icon=\"save\" style=\"color: green; font-size:24px;\"></b-icon> -->\r\n            บันทึก\r\n          </button>\r\n\r\n          <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"cancle\">\r\n            <!-- <b-icon icon=\"x-square\" style=\"color: red; font-size:24px;\"></b-icon> -->\r\n            ยกเลิก\r\n          </button>\r\n\r\n          <button\r\n            v-if=\"\r\n              this.invoice.dateinvoice != '0000-00-00' &&\r\n              this.invoice.bankID != '0'\r\n            \"\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n          >\r\n            <router-link\r\n              :to=\"`/createInvoice/${invoice.invoiceID}`\"\r\n              target=\"_blank\"\r\n              style=\"text-decoration: none\"\r\n            >\r\n              <!-- <b-icon icon=\"save\" style=\"color: green; font-size:24px;\"></b-icon> -->\r\n              PDF\r\n            </router-link>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"right-layout-panel\">\r\n        <div class=\"container-panel\">\r\n          <span style=\"margin-bottom: 1em\">ธนาคาร</span>\r\n          <span class=\"bank-selected\">\r\n            <a-select id=\"customer-select\" v-model=\"bankID\" default-value=\"5\">\r\n              <a-select-option value=\"\" disable> เลือกธนาคาร </a-select-option>\r\n              <a-select-option\r\n                v-for=\"ba in bank\"\r\n                :key=\"ba.bankID\"\r\n                :value=\"ba.bankID\"\r\n                @click=\"choosebank(ba.bankName, ba.bankAccount, ba.accountName)\"\r\n              >\r\n                {{ ba.accountName }}\r\n              </a-select-option>\r\n            </a-select>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- RIGHT LAYOUT END HERE -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      thFormat: {\r\n        stringify: (date) => {\r\n          return date\r\n            ? moment(date).add(543, \"year\").format(\"DD/MM/YYYY\")\r\n            : null;\r\n        },\r\n        parse: (dateinv) => {\r\n          return dateinv\r\n            ? moment(dateinv, \"DD/MM/YYYY\").subtract(543, \"year\").toDate()\r\n            : null;\r\n        },\r\n      },\r\n      inID: \"\",\r\n      invoice: [],\r\n      //\r\n      todos: [],\r\n      newprice: 0,\r\n      newquantity: 1,\r\n      newTodo: \"\",\r\n      indexEditTodo: null,\r\n      tempNameTodo: \"\",\r\n      tempquantityTodo: \"\",\r\n      temppriceTodo: \"\",\r\n      tempprice: 0,\r\n      //\r\n      bank: [],\r\n      dateinv: \"\",\r\n      vat7: 0,\r\n      tax3: 0,\r\n      total: 0,\r\n      bankID: \"\",\r\n      changein: false,\r\n      bankch: {\r\n        bname: \"\",\r\n        accname: \"\",\r\n        accnum: \"\",\r\n      },\r\n      success: false,\r\n      nerror: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.inID = this.$route.params.id;\r\n    this.getinv(this.inID);\r\n    this.getbank();\r\n    this.getscope(this.inID);\r\n  },\r\n  methods: {\r\n    backward() {\r\n      history.back();\r\n    },\r\n    choosebank(bn, ac, an) {\r\n      this.bankch.bname = bn;\r\n      this.bankch.accname = ac;\r\n      this.bankch.accnum = an;\r\n    },\r\n    addTodo() {\r\n      if (this.newTodo.length === 0) return;\r\n      if (this.indexEditTodo === null) {\r\n        if (this.newprice > this.tempprice) return;\r\n        this.todos.push({\r\n          name: this.newTodo,\r\n          quantity: this.newquantity,\r\n          price: this.newprice,\r\n        });\r\n      } else {\r\n        if (this.newprice > this.tempprice) return;\r\n        this.todos[this.indexEditTodo].name = this.newTodo;\r\n        this.todos[this.indexEditTodo].quantity = this.newquantity;\r\n        this.todos[this.indexEditTodo].price = this.newprice;\r\n        this.indexEditTodo = null;\r\n      }\r\n      this.newTodo = \"\";\r\n      this.newquantity = 1;\r\n      this.newprice = (this.tempprice - this.newprice).toFixed(2);\r\n      this.tempprice = this.newprice;\r\n      this.changein = true;\r\n    },\r\n    editTodo(index) {\r\n      this.newTodo = this.todos[index].name;\r\n      this.newquantity = this.todos[index].quantity;\r\n      this.newprice = this.todos[index].price;\r\n      this.tempprice = Number(this.tempprice) + Number(this.todos[index].price);\r\n      this.indexEditTodo = index;\r\n      this.changein = true;\r\n    },\r\n    deleteTodo(index) {\r\n      this.newTodo = this.todos[index].name;\r\n      this.newquantity = this.todos[index].quantity;\r\n      this.newprice = this.todos[index].price;\r\n      this.todos.splice(index, 1);\r\n      this.newTodo = \"\";\r\n      this.newquantity = 1;\r\n      this.newprice = Number(this.tempprice) + Number(this.newprice);\r\n      this.tempprice = this.newprice;\r\n      this.changein = true;\r\n    },\r\n    upTodo(index) {\r\n      if (index === 0) return;\r\n      this.tempNameTodo = this.todos[index].name;\r\n      this.tempquantityTodo = this.todos[index].quantity;\r\n      this.temppriceTodo = this.todos[index].price;\r\n      this.todos[index].name = this.todos[index - 1].name;\r\n      this.todos[index].quantity = this.todos[index - 1].quantity;\r\n      this.todos[index].price = this.todos[index - 1].price;\r\n      this.todos[index - 1].name = this.tempNameTodo;\r\n      this.todos[index - 1].quantity = this.tempquantityTodo;\r\n      this.todos[index - 1].price = this.temppriceTodo;\r\n      this.changein = true;\r\n    },\r\n    downTodo(index) {\r\n      if (index === this.todos.length - 1) return;\r\n      this.tempNameTodo = this.todos[index].name;\r\n      this.tempquantityTodo = this.todos[index].quantity;\r\n      this.temppriceTodo = this.todos[index].price;\r\n      this.todos[index].name = this.todos[index + 1].name;\r\n      this.todos[index].quantity = this.todos[index + 1].quantity;\r\n      this.todos[index].price = this.todos[index + 1].price;\r\n      this.todos[index + 1].name = this.tempNameTodo;\r\n      this.todos[index + 1].quantity = this.tempquantityTodo;\r\n      this.todos[index + 1].price = this.temppriceTodo;\r\n      this.changein = true;\r\n    },\r\n    cancle() {\r\n      history.back();\r\n    },\r\n    subinv() {\r\n      axios\r\n        .post(`https://pxu-server.herokuapp.com/invoice/${this.inID}`, {\r\n          bankID: this.bankID,\r\n          dateinv: this.dateinv,\r\n        })\r\n        .then(() => {\r\n          this.success = true;\r\n          setTimeout(() => {\r\n            this.$router.back();\r\n          }, 500);\r\n        });\r\n    },\r\n    async submit() {\r\n      console.log(this.dateinv);\r\n      if (this.newprice != 0 || this.bankID == \"\" || this.dateinv == null) {\r\n        this.nerror = true;\r\n      } else {\r\n        if (this.changein) {\r\n          await axios.delete(\r\n            `https://pxu-server.herokuapp.com/scope/${this.inID}`\r\n          );\r\n          const requestone = [];\r\n          for (let i = 0; i < this.todos.length; i++) {\r\n            requestone[i] = axios.post(\r\n              \"https://pxu-server.herokuapp.com/scope\",\r\n              {\r\n                qID: this.inID,\r\n                name: this.todos[i].name,\r\n                price: this.todos[i].price,\r\n                quantity: this.todos[i].quantity,\r\n              }\r\n            );\r\n          }\r\n          axios.all([requestone]).then(this.subinv());\r\n        } else {\r\n          this.subinv();\r\n        }\r\n      }\r\n    },\r\n    async getinv(id) {\r\n      try {\r\n        const response = await axios.get(\r\n          `https://pxu-server.herokuapp.com/invoice/in/${id}`\r\n        );\r\n        this.invoice = response.data[0];\r\n        if (this.invoice.customerstatus == \"นิติบุคคล\") {\r\n          if (this.invoice.vatstatus == \"vatนอก\") {\r\n            this.total = this.invoice.totalpriceinv;\r\n            this.vat7 = this.total * 0.07;\r\n            this.tax3 = this.total * 0.03;\r\n            this.newprice = this.total.toFixed(2);\r\n            this.tempprice = this.total.toFixed(2);\r\n          } else if (this.invoice.vatstatus == \"vatใน\") {\r\n            this.total = (this.invoice.totalpriceinv * 100) / 107;\r\n            this.vat7 = this.invoice.totalpriceinv - this.total;\r\n            this.tax3 = this.total * 0.03;\r\n            this.newprice = this.invoice.totalpriceinv.toFixed(2);\r\n            this.tempprice = this.invoice.totalpriceinv.toFixed(2);\r\n          }\r\n        } else {\r\n          if (this.invoice.vatstatus == \"vatนอก\") {\r\n            this.total = this.invoice.totalpriceinv;\r\n            this.vat7 = this.total * 0.07;\r\n            this.tax3 = 0;\r\n            this.newprice = this.total.toFixed(2);\r\n            this.tempprice = this.total.toFixed(2);\r\n          } else if (this.invoice.vatstatus == \"vatใน\") {\r\n            this.total = (this.invoice.totalpriceinv * 100) / 107;\r\n            this.vat7 = this.invoice.totalpriceinv - this.total;\r\n            this.tax3 = 0;\r\n            this.newprice = this.invoice.totalpriceinv.toFixed(2);\r\n            this.tempprice = this.invoice.totalpriceinv.toFixed(2);\r\n          }\r\n        }\r\n        console.log('this.invoice.dateinv');\r\n        console.log(this.invoice.dateinvoice);\r\n        if (this.invoice.dateinvoice == '') {\r\n          var today = new Date();\r\n          this.dateinv = moment(today).add(543, 'year').format('DD/MM/YYYY');\r\n        }else{\r\n          this.dateinv = this.invoice.dateinvoice;\r\n        }\r\n        if (this.invoice.bankID != \"0\") {\r\n          this.bankID = this.invoice.bankID;\r\n          this.getbankid(this.bankID);\r\n        }\r\n\r\n        console.log(this.invoice);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async getbank() {\r\n      try {\r\n        const response = await axios.get(\r\n          `https://pxu-server.herokuapp.com/bank`\r\n        );\r\n        this.bank = response.data;\r\n        console.log(this.bank);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async getscope(id) {\r\n      try {\r\n        const response = await axios.get(\r\n          `https://pxu-server.herokuapp.com/scope/${id}`\r\n        );\r\n        this.todos = response.data;\r\n        if (this.todos.length != 0) {\r\n          this.newprice = 0;\r\n          this.tempprice = this.newprice;\r\n        }\r\n        console.log(this.todos);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async getbankid(id) {\r\n      try {\r\n        const response = await axios.get(\r\n          `https://pxu-server.herokuapp.com/bank/${id}`\r\n        );\r\n        this.bankch.bname = response.data[0].bankName;\r\n        this.bankch.accname = response.data[0].accountName;\r\n        this.bankch.accnum = response.data[0].bankAccount;\r\n        console.log(\"ddsfsdf\");\r\n        console.log(this.bankch);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.whole-site {\r\n  font-family: \"Mitr\", sans-serif;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n.left-layout {\r\n  display: flex;\r\n  width: 70%;\r\n  /* background-color: red; */\r\n}\r\n.right-layout {\r\n  width: 30%;\r\n  /* background-color: tan; */\r\n}\r\n/* right layout */\r\n.right-layout-panel {\r\n  margin-top: 0;\r\n  margin-bottom: auto;\r\n  padding: 40px;\r\n  margin: auto;\r\n  width: 70%;\r\n  border-radius: 14px;\r\n  margin-bottom: 2em;\r\n  align-content: center;\r\n  background-color: white;\r\n  -webkit-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n}\r\n.container-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.container-panel button {\r\n  margin: 10px;\r\n}\r\n\r\n.container-panel router-link {\r\n  margin: 10px;\r\n}\r\n\r\n.bank-selected a-select {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n\r\n.ant-select {\r\n  font-weight: 600;\r\n  color: #575454;\r\n  width: 100% !important;\r\n}\r\n\r\n/* =================\r\nright layout\r\n================= */\r\n\r\n/* left layout */\r\n\r\n.l-container {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 14px;\r\n  align-content: center;\r\n  background-color: white;\r\n  -webkit-box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\r\n  padding: 4em;\r\n  margin-bottom: 2em;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.header-top {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n}\r\n.ht-left {\r\n  width: 50%;\r\n  display: flex;\r\n}\r\n.ht-right {\r\n  width: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: auto;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.header-mid {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n.company-detail {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 50%;\r\n}\r\n.invoice-detail {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 50%;\r\n  align-items: center;\r\n}\r\n.id-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.header-bott {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n.customer-section {\r\n  display: flex;\r\n  width: 100%;\r\n  margin-top: 2em;\r\n}\r\n.cs-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.body {\r\n  margin-top: 2em;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n.payment-section {\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n}\r\n\r\n.ps-left {\r\n  display: flex;\r\n  width: 50%;\r\n}\r\n\r\n.ps-right {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 50%;\r\n  /* align-items: center; */\r\n}\r\n\r\n.ps-right-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: end;\r\n}\r\n\r\n.sign-section {\r\n  margin-top: 3em;\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n}\r\n\r\n.sign-left {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 50%;\r\n}\r\n\r\n.sign-right {\r\n  display: flex;\r\n  width: 50%;\r\n  align-items: center;\r\n}\r\n.s-container {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n}\r\n\r\n.c-stamp {\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n}\r\n\r\n.sign {\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 2em;\r\n  width: 100%;\r\n}\r\n.sign-l {\r\n  width: 50%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n}\r\n.sign-r {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 50%;\r\n  text-align: center;\r\n}\r\n\r\n#signbox {\r\n  display: flex;\r\n  width: 100%;\r\n  border-bottom: 1px solid black;\r\n}\r\n\r\n/* =================\r\nleft layout\r\n================= */\r\n\r\n/* to do layout*/\r\n.submit-btn {\r\n  width: 134px;\r\n  height: 26px;\r\n  background-color: #1890ff;\r\n  border-radius: 14px;\r\n  border: none;\r\n  font-size: 10px;\r\n  font-weight: 500;\r\n  color: white;\r\n}\r\n\r\n.add-detail {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.todo-form {\r\n  width: 100%;\r\n  padding: 1em 1em 2em 1em;\r\n  border-bottom: 1px solid rgba(141, 141, 141, 0.527);\r\n}\r\n.borderbox {\r\n  border-bottom: 1px solid rgba(141, 141, 141, 0.527);\r\n}\r\n.table-detail {\r\n  width: 100%;\r\n}\r\n.container-todo-header {\r\n  background-color: black;\r\n  color: white;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  vertical-align: middle;\r\n}\r\n.box-inside {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  vertical-align: middle;\r\n}\r\n.cbox {\r\n  text-align: center;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n.container-todo {\r\n  padding: 1em;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n}\r\n\r\n/* card */\r\n.container-todo-list {\r\n  padding: 0.6em 1em 0em 1em;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n}\r\n/* card */\r\n.card-todo-container {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  border: 1px solid rgba(59, 59, 59, 0.562);\r\n  padding: 0.4em;\r\n  border-radius: 14px;\r\n  justify-content: center;\r\n}\r\n\r\n.form-input {\r\n  border: 1px solid rgb(168, 167, 167);\r\n  border-radius: 14px;\r\n  height: 30px;\r\n}\r\n.form-control:focus {\r\n  box-shadow: none;\r\n  /* border: none; */\r\n}\r\n.submit-btn {\r\n  width: 134px;\r\n  height: 26px;\r\n  background-color: #1890ff;\r\n  border-radius: 14px;\r\n  border: none;\r\n  font-size: 10px;\r\n  font-weight: 500;\r\n  color: white;\r\n}\r\n.todo-list {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n}\r\n.action-btn i {\r\n  font-size: 25px;\r\n  cursor: pointer;\r\n  padding: 0 0.2em 0 0.2em;\r\n}\r\n\r\n/* to-do layout end  */\r\n</style>"]}]}