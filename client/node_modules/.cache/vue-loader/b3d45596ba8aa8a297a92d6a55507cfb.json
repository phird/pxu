{"remainingRequest":"D:\\GitHub\\pxu-web\\client\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GitHub\\pxu-web\\client\\src\\views\\Websetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GitHub\\pxu-web\\client\\src\\views\\Websetting.vue","mtime":1651739505383},{"path":"D:\\GitHub\\pxu-web\\client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651634972765},{"path":"D:\\GitHub\\pxu-web\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1651453997873},{"path":"D:\\GitHub\\pxu-web\\client\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1651634972757},{"path":"D:\\GitHub\\pxu-web\\client\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1651635696127}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICByZXF1aXJlZCwNCiAgbWluTGVuZ3RoLA0KICBtYXhMZW5ndGgsDQogIGFscGhhLA0KICBlbWFpbCwNCn0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgd2Vic2l0ZU5hbWU6ICIiLA0KICAgICAgY29tcGFueU5hbWU6ICIiLA0KICAgICAgdGF4TnVtYmVyOiBudWxsLA0KICAgICAgQWRkcmVzczogbnVsbCwNCiAgICAgIHN1YmRpczogbnVsbCwNCiAgICAgIGRpczogbnVsbCwNCiAgICAgIHByb3ZpbmNlOiBudWxsLA0KICAgICAgcG9zdGNvZGU6IG51bGwsDQogICAgICBzZXRzdGF0ZTonJywNCiAgICB9Ow0KICB9LA0KDQogIHZhbGlkYXRpb25zOiB7DQogICAgdGF4TnVtYmVyOiB7DQogICAgICByZXF1aXJlZCwNCiAgICAgIHZhbGlkRm9ybWF0OiAodmFsKSA9PiAvXlxkezEzfSQvLnRlc3QodmFsKSwNCiAgICB9LA0KICAgIHBvc3Rjb2RlOiB7DQogICAgICByZXF1aXJlZCwNCiAgICAgIHZhbGlkRm9ybWF0OiAodmFsKSA9PiAvXlxkezV9JC8udGVzdCh2YWwpLA0KICAgIH0sDQogICAgd2Vic2l0ZU5hbWU6IHsNCiAgICAgIHJlcXVpcmVkLA0KICAgIH0sDQogICAgY29tcGFueU5hbWU6IHsNCiAgICAgIHJlcXVpcmVkLA0KICAgIH0sDQogICAgQWRkcmVzczogew0KICAgICAgcmVxdWlyZWQsDQogICAgfSwNCiAgICBzdWJkaXM6IHsNCiAgICAgIHJlcXVpcmVkLA0KICAgIH0sDQogICAgZGlzOiB7DQogICAgICByZXF1aXJlZCwNCiAgICB9LA0KICAgIHByb3ZpbmNlOiB7DQogICAgICByZXF1aXJlZCwNCiAgICB9LA0KICAgIC8vIHBhc3Nwb3J0RGF0ZTogew0KICAgIC8vICAgcmVxdWlyZWQsDQogICAgLy8gICB2YWxpZERhdGU6ICh2YWwpID0+IG1vbWVudCh2YWwsICJERC5NTS5ZWVlZIiwgdHJ1ZSkuaXNWYWxpZCgpLA0KICAgIC8vIH0sDQogIH0sDQogIGNyZWF0ZWQoKXsNCiAgICB0aGlzLmdldHdlYigpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgc3VibWl0Rm9ybSgpIHsNCiAgICAgIHRoaXMuJHYuJHRvdWNoKCk7DQogICAgICBpZiAodGhpcy4kdi4kaW52YWxpZCkgew0KICAgICAgICBhbGVydCgiY2FuJ3Qgc3VibWl0Iik7DQogICAgICB9IGVsc2UgaWYodGhpcy5zZXRzdGF0ZT09J2ZhbHNlJyl7DQogICAgICAgIGF3YWl0IGF4aW9zDQogICAgICAgICAgLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC93ZWJzaXRlIiwgew0KICAgICAgICAgICAgd2Vic2l0ZU5hbWU6IHRoaXMud2Vic2l0ZU5hbWUsDQogICAgICAgICAgICBjb21wYW55TmFtZTogdGhpcy5jb21wYW55TmFtZSwNCiAgICAgICAgICAgIHRheE51bWJlcjogdGhpcy50YXhOdW1iZXIsDQogICAgICAgICAgICBBZGRyZXNzOiB0aGlzLkFkZHJlc3MsDQogICAgICAgICAgICBzdWJkaXM6IHRoaXMuc3ViZGlzLA0KICAgICAgICAgICAgZGlzOiB0aGlzLmRpcywNCiAgICAgICAgICAgIHByb3ZpbmNlOiB0aGlzLnByb3ZpbmNlLA0KICAgICAgICAgICAgcG9zdGNvZGU6IHRoaXMucG9zdGNvZGUsDQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBhbGVydCgicHVzaCIpOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPScvJzsNCiAgICAgIH1lbHNlew0KICAgICAgICBhd2FpdCBheGlvcw0KICAgICAgICAgIC5wdXQoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC93ZWJzaXRlIiwgew0KICAgICAgICAgICAgd2Vic2l0ZU5hbWU6IHRoaXMud2Vic2l0ZU5hbWUsDQogICAgICAgICAgICBjb21wYW55TmFtZTogdGhpcy5jb21wYW55TmFtZSwNCiAgICAgICAgICAgIHRheE51bWJlcjogdGhpcy50YXhOdW1iZXIsDQogICAgICAgICAgICBBZGRyZXNzOiB0aGlzLkFkZHJlc3MsDQogICAgICAgICAgICBzdWJkaXM6IHRoaXMuc3ViZGlzLA0KICAgICAgICAgICAgZGlzOiB0aGlzLmRpcywNCiAgICAgICAgICAgIHByb3ZpbmNlOiB0aGlzLnByb3ZpbmNlLA0KICAgICAgICAgICAgcG9zdGNvZGU6IHRoaXMucG9zdGNvZGUsDQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBhbGVydCgidXBkYXRlIik7DQogICAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBnZXR3ZWIoKSB7DQogICAgICBjb25zb2xlLmxvZygiZ2V0LXdlYiIpOw0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC93ZWJzaXRlIik7DQogICAgICAgICAgdGhpcy53ZWJzaXRlTmFtZT1yZXNwb25zZS5kYXRhWzBdLndlYnNpdGVOYW1lOw0KICAgICAgICAgIHRoaXMuY29tcGFueU5hbWU9cmVzcG9uc2UuZGF0YVswXS5jb21wYW55bmFtZTsNCiAgICAgICAgICB0aGlzLnRheE51bWJlcj1yZXNwb25zZS5kYXRhWzBdLnRheE51bWJlcjsNCiAgICAgICAgICB0aGlzLkFkZHJlc3M9cmVzcG9uc2UuZGF0YVswXS5hZGRyZXNzOw0KICAgICAgICAgIHRoaXMuc3ViZGlzPXJlc3BvbnNlLmRhdGFbMF0uc3ViZGlzdHJpY3Q7DQogICAgICAgICAgdGhpcy5kaXM9cmVzcG9uc2UuZGF0YVswXS5kaXN0cmljdDsNCiAgICAgICAgICB0aGlzLnByb3ZpbmNlPXJlc3BvbnNlLmRhdGFbMF0ucHJvdmluY2U7DQogICAgICAgICAgdGhpcy5wb3N0Y29kZT1yZXNwb25zZS5kYXRhWzBdLnBvc3Rjb2RlOw0KICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhWzBdKTsNCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICB0aGlzLnNldHN0YXRlPSdmYWxzZScNCiAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgIH0NCiAgICB9LA0KDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Websetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Websetting.vue","sourceRoot":"src/views","sourcesContent":["\r\n<template>\r\n  <div>\r\n    <form @submit.prevent=\"submitForm()\">\r\n      <div class=\"field\">\r\n        <label for=\"websiteName\">ชื่อเว็ป</label>\r\n        <input id=\"websiteName\" type=\"text\" v-model=\"websiteName\" />\r\n        <div class=\"error\" v-if=\"$v.websiteName.$error\">\r\n          <template v-if=\"!$v.websiteName.$invalid\"> </template>\r\n          <template v-else> ต้องระบุชื่อ </template>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"companyName\"> ชื่อบริษัท</label>\r\n        <input id=\"companyName\" type=\"text\" v-model=\"companyName\" />\r\n        <div class=\"error\" v-if=\"$v.companyName.$error\">\r\n          <template v-if=\"!$v.companyName.$invalid\"> </template>\r\n          <template v-else> ต้องระบุชื่อ </template>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"taxNumber\">เลขกำกับภาษี</label>\r\n        <input id=\"taxNumber\" type=\"text\" v-model=\"taxNumber\" />\r\n        <div class=\"error\" v-if=\"$v.taxNumber.$error\">\r\n          <template v-if=\"!$v.taxNumber.$invalid\"> </template>\r\n          <template v-else> หมายเลขกำกับภาษีต้องมี13ตัว</template>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"field\">\r\n        <label for=\"Address\">ที่อยู่</label>\r\n        <input id=\"Address\" type=\"text\" v-model=\"Address\" />\r\n        <div class=\"error\" v-if=\"$v.Address.$error\">\r\n          <template v-if=\"!$v.Address.$invalid\"> </template>\r\n          <template v-else> ต้องใส่ที่อยู่ </template>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"subdis\">ตำบล</label>\r\n        <input id=\"subdis\" type=\"text\" v-model=\"subdis\" />\r\n        <div class=\"error\" v-if=\"$v.subdis.$error\">\r\n          <template v-if=\"!$v.subdis.$invalid\"> </template>\r\n          <template v-else> ****</template>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"dis\">อำเภอ</label>\r\n        <input id=\"dis\" type=\"text\" v-model=\"dis\" />\r\n        <div class=\"error\" v-if=\"$v.dis.$error\">\r\n          <template v-if=\"!$v.dis.$invalid\"> </template>\r\n          <template v-else> ****</template>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"province\">จังหวัด</label>\r\n        <input id=\"province\" type=\"text\" v-model=\"province\" />\r\n        <div class=\"error\" v-if=\"$v.province.$error\">\r\n          <template v-if=\"!$v.province.$invalid\"> </template>\r\n          <template v-else> ****</template>\r\n        </div>\r\n      </div>\r\n      <div class=\"field\">\r\n        <label for=\"postcode\">รหัสไปรษณีย์</label>\r\n        <input id=\"postcode\" type=\"text\" v-model=\"postcode\" />\r\n        <div class=\"error\" v-if=\"$v.postcode.$error\">\r\n          <template v-if=\"!$v.postcode.$invalid\"> </template>\r\n          <template v-else> รหัสไปรษณีย์ต้องมี5ตัว</template>\r\n        </div>\r\n      </div>\r\n      <button type=\"submit\">ส่งแบบฟอร์ม</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  required,\r\n  minLength,\r\n  maxLength,\r\n  alpha,\r\n  email,\r\n} from \"vuelidate/lib/validators\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      websiteName: \"\",\r\n      companyName: \"\",\r\n      taxNumber: null,\r\n      Address: null,\r\n      subdis: null,\r\n      dis: null,\r\n      province: null,\r\n      postcode: null,\r\n      setstate:'',\r\n    };\r\n  },\r\n\r\n  validations: {\r\n    taxNumber: {\r\n      required,\r\n      validFormat: (val) => /^\\d{13}$/.test(val),\r\n    },\r\n    postcode: {\r\n      required,\r\n      validFormat: (val) => /^\\d{5}$/.test(val),\r\n    },\r\n    websiteName: {\r\n      required,\r\n    },\r\n    companyName: {\r\n      required,\r\n    },\r\n    Address: {\r\n      required,\r\n    },\r\n    subdis: {\r\n      required,\r\n    },\r\n    dis: {\r\n      required,\r\n    },\r\n    province: {\r\n      required,\r\n    },\r\n    // passportDate: {\r\n    //   required,\r\n    //   validDate: (val) => moment(val, \"DD.MM.YYYY\", true).isValid(),\r\n    // },\r\n  },\r\n  created(){\r\n    this.getweb();\r\n  },\r\n  methods: {\r\n    async submitForm() {\r\n      this.$v.$touch();\r\n      if (this.$v.$invalid) {\r\n        alert(\"can't submit\");\r\n      } else if(this.setstate=='false'){\r\n        await axios\r\n          .post(\"http://localhost:5000/website\", {\r\n            websiteName: this.websiteName,\r\n            companyName: this.companyName,\r\n            taxNumber: this.taxNumber,\r\n            Address: this.Address,\r\n            subdis: this.subdis,\r\n            dis: this.dis,\r\n            province: this.province,\r\n            postcode: this.postcode,\r\n          })\r\n          .then(function () {\r\n            alert(\"push\");\r\n          });\r\n          window.location.href='/';\r\n      }else{\r\n        await axios\r\n          .put(\"http://localhost:5000/website\", {\r\n            websiteName: this.websiteName,\r\n            companyName: this.companyName,\r\n            taxNumber: this.taxNumber,\r\n            Address: this.Address,\r\n            subdis: this.subdis,\r\n            dis: this.dis,\r\n            province: this.province,\r\n            postcode: this.postcode,\r\n          })\r\n          .then(function () {\r\n            alert(\"update\");\r\n          });\r\n      }\r\n    },\r\n    async getweb() {\r\n      console.log(\"get-web\");\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/website\");\r\n          this.websiteName=response.data[0].websiteName;\r\n          this.companyName=response.data[0].companyname;\r\n          this.taxNumber=response.data[0].taxNumber;\r\n          this.Address=response.data[0].address;\r\n          this.subdis=response.data[0].subdistrict;\r\n          this.dis=response.data[0].district;\r\n          this.province=response.data[0].province;\r\n          this.postcode=response.data[0].postcode;\r\n        console.log(response.data[0]);\r\n      } catch (err) {\r\n        this.setstate='false'\r\n        console.log(err);\r\n      }\r\n    },\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.field {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.field > label {\r\n  margin-right: 8px;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n}\r\n"]}]}